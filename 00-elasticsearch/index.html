<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>[Elastic Search] Elastic Search란? - Azderica</title><meta name="gridsome:hash" content="836c7fa4d725a80a0d7dd9830d85ecf7a50866fb"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="부족하지만 꿈많은 웹 개발자의 발전 기록입니다."><meta data-vue-tag="ssr" name="description" content=" 엘라스틱서치에 대한 기본 내용을 정리한 글입니다. "><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.d0be325ebfe2762f973f3e0685345394.png"><link rel="preload" href="/assets/css/0.styles.661eda3b.css" as="style"><link rel="preload" href="/assets/js/app.d6a54c50.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.54ab712c.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.b6200640.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.20763e56.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.762abdba.js"><link rel="stylesheet" href="/assets/css/0.styles.661eda3b.css"><script data-vue-tag="ssr" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="shortcut icon" type="image/png" href="favicon.png" />
    <meta
      name="google-site-verification"
      content="MqpGCz7XVg4s3AWfrGHCt6AlXPacpV9iGvSFVD0ATHw"
    />
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      ;(function() {
        window.__onThemeChange = function() {}
        function setTheme(newTheme) {
          window.__theme = newTheme
          preferredTheme = newTheme
          document.body.setAttribute('data-theme', newTheme)
          window.__onThemeChange(newTheme)
        }

        var preferredTheme
        try {
          preferredTheme = localStorage.getItem('theme')
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme)
          try {
            localStorage.setItem('theme', newTheme)
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        })

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
      })()
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← Azderica
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      [Elastic Search] Elastic Search란?
    </h1><div class="post-meta">
   Posted 16. November 2020.
   <strong>9 min read.</strong></div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 484' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c5b5f461f1f441aa2e4caaf0873aea84'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c5b5f461f1f441aa2e4caaf0873aea84)' width='860' height='484' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAADrUlEQVRo3u2XSVMTQRTHuXnxA%2bjVg5XyYnlwOXixPFse9e738KaoBzZFCtlkMQlkIQFZZE1IIBSxgECAVMgiZoNESAwJBJL5j90dJk6liAqSg9hd6Zqe7p5%2b7/36ve6XCvE/LxUcAAfAAXAAHAAHwAFwABwAB3CCAhw98oU2pb5zDYAZK/0gkF%2bW1EPSzkkgxJ9MzhkAmWHM4GPGRTmEIg8pOXbcnD/ejBIyygRAkiuwhpCJIBNoxp6/BodxWz4MZAoJglBQhrZplfqlMbm%2b0rg0R/4sbpeSUQznbEMgL5ItnAqMwaNS4Ft/BZJDFYiTmnY/ZRCIVoVPtre3sbW5eawyRwojGo0ik8mcOmZ2dnZA5cjXLFsIMCHE04OOLnjMlQgtvcWWrxEJXx3EuJniYXPCoRDiRLHlpSWMj40jFovB7/Mx5XzkSY3uN/bBbDLB6/UilUrB7Xaz/h1ijMvlYrg3NjZADaSA1lZXkdrdxS6pwUAQ8XgcPq8P09ZpKLs%2bILoVhTyyzhxALpeP%2b1mbDVcVN6C4el28cu%2bReEEVEy8bk3B%2bzxsfJMY31L9l1dhrwKxtFs7lZdRUVeHT8DBevXgJz/o6Ots70KvTY2J8HH0GI3rU3XCtuVD57DksUxY4Fh1oanyH2qpqBk%2btVEFP5n/o7EK3Ss3erWSeZWoK71vb0NLUjEgkgrKFgATAbrfj/u07eHDrJu4/fAyFzi/eHQohkDxk4/PzC3hZ%2bYLsjBWfhoah02gx0P8Rr2vrYJuxYXJiAtoeDYwGAzaJwqMjI6itrsHGly/se6vFwoyjxrc2txAvMbO51OjOjg6olEqEw2GR7jq11T43R2AtwjRpwurKCorPg7LcAnWLdjwZHcCz%2bVk0eNbwxr0MayzEFNol7kyV/UxA%2bf1%2btkN6rQ7dajWsFivbXb1OhwUCisKZmZ6Gw%2bFAW0srnE4n6Z9nu0yN0nT3sHCgoULbBn0vxkZHWciYJieh1WiYHK/HwzwmFAyVzwNwdNvT9kDAj4vt9bikb4ViUIlrgyo0rDsLB1A2m2VngKTIwcEBi2PqRTR2pTX30nuFOXR8f3%2bfxbh0KNL3RCLB1k2n0zjywoIcOld28EF%2bO5YrE6TpD2uks4cYiXyFNuDFejJRUEoool9qM0pdYSWutZI5h%2bxdPE06cBIPKAjIHSNBKEqE/racdplfQT%2bTVPjndUhDQkCWJjZF2RjEc5gK/8Yr%2bN9hDoAD4AA4AA6AA%2bAAOAAOgAP4t8oPPLVSy5rYiR8AAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="860" data-src="/assets/static/ElasticsearchLogo.07cc2b7.87a6170aa6a46ae64017f0123ab695e5.png" data-srcset="/assets/static/ElasticsearchLogo.a67b0b2.87a6170aa6a46ae64017f0123ab695e5.png 480w, /assets/static/ElasticsearchLogo.07cc2b7.87a6170aa6a46ae64017f0123ab695e5.png 860w" data-sizes="(max-width: 860px) 100vw, 860px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/ElasticsearchLogo.07cc2b7.87a6170aa6a46ae64017f0123ab695e5.png" class="g-image g-image--loaded" width="860" alt="Cover image"></noscript></div><div class="post__content"><h1 id="elasticsearch"><a href="#elasticsearch" aria-hidden="true"><span class="icon icon-link"></span></a>Elasticsearch.</h1>
<p>오늘은 Elasticsearch에 대한 기본적인 내용을 정리합니다.</p>
<h2 id="elasticsearch란"><a href="#elasticsearch%EB%9E%80" aria-hidden="true"><span class="icon icon-link"></span></a>Elasticsearch란?</h2>
<p><strong>Elasticsearch는 Apache Lucene(아파치 루씬)을 기반으로 한 Java 오픈소스 분산 검색 엔진입니다.</strong></p>
<p>Elasticsearch는 방대한 양의 데이터를 거의 실시간(NRT, Near Real Time)으로 저장, 검색, 분석할 수 있습니다. 이러한 Elasticsearch는 검색을 위해 단독으로 쓰이기도 하며, <strong>ELK</strong> 스택으로 사용되기도 합니다.</p>
<p>먼저 Elasticsearch에 본격적으로 들어가기 앞서서, ELK란 (Elasticsearch, Logstatsh, Kibnana)을 의미합니다.</p>
<p>간단하게 ELK 스택을 설명하면 다음과 같습니다.</p>
<p><img src="https://user-images.githubusercontent.com/42582516/99964448-9e7a5280-2dd6-11eb-9bdc-1ae7cf9f2498.png" alt="image"></p>
<ul>
<li>
<p>Logstash</p>
<ul>
<li>다양한 소스(DB, csv파일 등)의 로그나 트랜잭션 데이터를 수집, 집계, 파싱하여 Elasticsearch로 전달합니다.</li>
</ul>
</li>
<li>
<p>Elasticsearch</p>
<ul>
<li>Logstash로 받은 데이터를 검색 및 집계하여 필요한 관심 정보를 받습니다.</li>
</ul>
</li>
<li>
<p>Kibana</p>
<ul>
<li>Elasticsearch의 검색 결과를 통해 데이터를 시각화하고 모니터링합니다.</li>
</ul>
</li>
</ul>
<br/>
<h2 id="elasticsearch-용어-정의"><a href="#elasticsearch-%EC%9A%A9%EC%96%B4-%EC%A0%95%EC%9D%98" aria-hidden="true"><span class="icon icon-link"></span></a>Elasticsearch 용어 정의</h2>
<h3 id="논리적-구조"><a href="#%EB%85%BC%EB%A6%AC%EC%A0%81-%EA%B5%AC%EC%A1%B0" aria-hidden="true"><span class="icon icon-link"></span></a>논리적 구조</h3>
<p><img src="https://user-images.githubusercontent.com/42582516/99964489-b05bf580-2dd6-11eb-9962-78eae078e84b.png" alt="image"></p>
<h4 id="도큐먼트document"><a href="#%EB%8F%84%ED%81%90%EB%A8%BC%ED%8A%B8document" aria-hidden="true"><span class="icon icon-link"></span></a>도큐먼트(Document)</h4>
<ul>
<li>Elasticsearch 데이터 최소 단위(RDBMS의 Row와 비슷)하고, JSON 오브젝트 중 하나입니다.</li>
<li>하나의 Document는 다양한 필드로 구성되어 있으며, Document 내부에 Document가 들어갈 수도 있습니다.</li>
</ul>
<h4 id="타입type"><a href="#%ED%83%80%EC%9E%85type" aria-hidden="true"><span class="icon icon-link"></span></a>타입(Type)</h4>
<ul>
<li>여러개의 Document가 모여서 한 개의 Type을 이룹니다.(RDBMS의 테이블과 비슷)</li>
<li><strong>Elasticsearch 7.0부터 사라졌습니다.</strong></li>
</ul>
<h4 id="필드field"><a href="#%ED%95%84%EB%93%9Cfield" aria-hidden="true"><span class="icon icon-link"></span></a>필드(Field)</h4>
<ul>
<li>Document에 들어가는 데이터 타입(RDBMS의 column)와 비슷합니다.</li>
<li>Elasticsearch의 필드는 RDBMS보다 동적입니다. 즉. 하나의 데이터 타임만 가질 수 있는 RDBMS와 달리, 하나의 필드가 여러개의 타입을 가질 수 있습니다.</li>
</ul>
<h4 id="매핑mapping"><a href="#%EB%A7%A4%ED%95%91mapping" aria-hidden="true"><span class="icon icon-link"></span></a>매핑(Mapping)</h4>
<ul>
<li>매핑(Mapping)은 필드와 필드의 속성을 정의합니다.</li>
<li>매핑 정보에 여러가지 데이터 타입 지정이 가능하지만 필드명 자체는 중복이 불가능합니다.</li>
</ul>
<h4 id="인덱스index"><a href="#%EC%9D%B8%EB%8D%B1%EC%8A%A4index" aria-hidden="true"><span class="icon icon-link"></span></a>인덱스(Index)</h4>
<ul>
<li>여러개의 Type이 모여 한 개의 Index를 이룹니다.(RDBMS의 Database와 비슷)</li>
<li>Elasticsearch 6.1 부터는 <strong>하나의 Index</strong>는 <strong>하나의 Type</strong>만 가집니다.(Database + Table과 비슷)</li>
<li>Elasticsearch를 클러스터(분산환경)을 구성하는 경우, Index는 여러 노드에 분산 저장 및 관리가 됩니다.</li>
<li>기본 설정은 5개의 Primary Shard와 1개의 Replica Shard로 생성됩니다. 옵션 값으로 변경 가능합니다.</li>
</ul>
<h3 id="물리적-구조"><a href="#%EB%AC%BC%EB%A6%AC%EC%A0%81-%EA%B5%AC%EC%A1%B0" aria-hidden="true"><span class="icon icon-link"></span></a>물리적 구조</h3>
<p><img src="https://user-images.githubusercontent.com/42582516/99964072-15fbb200-2dd6-11eb-9485-1887247ebdb4.png" alt="image"></p>
<h4 id="노드node"><a href="#%EB%85%B8%EB%93%9Cnode" aria-hidden="true"><span class="icon icon-link"></span></a>노드(Node)</h4>
<ul>
<li>노드는 Elasticsearch 클러스터에 포함된 <strong>단일 서버</strong>로서 데이터를 저장하고 클러스터의 색인화 및 검색 기능에 참여합니다. 노드는 클러스터처럼 이름으로 식별됩니다.</li>
<li>
<p>일반적으로 노드의 종류는 다음과 같습니다.</p>
<ul>
<li>
<p>마스터 노드(Master node)</p>
<ul>
<li><strong>클러스터 관리 노드</strong></li>
<li>노드 추가/제거, 인덱스 생성/삭제 등 클러스터의 전반적 관리를 담당합니다.</li>
<li>여러개의 마스터 노드를 설정하면 하나의 마스터 노드로 작동됩니다.</li>
<li><code class="language-text">elasticsearch.yml</code> 에서 <code class="language-text">node.master:true</code>로 설정합니다.</li>
</ul>
</li>
<li>
<p>데이터 노드(Data node)</p>
<ul>
<li><strong>데이터(Document)가 저장되는 노드</strong></li>
<li>물리적인 공간인 샤드가 배치되는 노드</li>
<li>색인/검색/통계 등 데이터 작업 수행(리소스가 소모가 심해 모니터링이 필요합니다.)</li>
<li>마스터와는 분리할 필요가 있습니다.</li>
<li><code class="language-text">elasticsearch.yml</code>의 <code class="language-text">node.data : true</code>로 설정합니다.</li>
</ul>
</li>
<li>
<p>코디네이팅 노드(Coordinating Node)</p>
<ul>
<li><strong>사용자의 요청을 받고 Round Robin 방식으로 분산시켜주는 노드</strong></li>
<li>클러스터에 관련된 것은 마스터노드로, 데이터와 관련된 것은 데이터 노드로 넘깁니다.</li>
<li><code class="language-text">elasticsearch.yml</code> 내부의 노드 종류 관련 옵션을 전부 <code class="language-text">false</code>로 설정합니다.</li>
</ul>
</li>
<li>
<p>인제스트 노드(Ingest node) :</p>
<ul>
<li><strong>문서 전처리 작업을 수행</strong></li>
<li>인덱스 생성 전 문서의 형식을 변경할 수 있습니다.</li>
<li><code class="language-text">elasticsearch.yml</code>의 <code class="language-text">node.ingest:true</code>로 설정합니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="샤드shard"><a href="#%EC%83%A4%EB%93%9Cshard" aria-hidden="true"><span class="icon icon-link"></span></a>샤드(Shard)</h4>
<ul>
<li><strong>인덱스 내부에는 색인된 데이터</strong>들이 존재하며, 이 데이터들은 하나로 뭉쳐서 존재하지 않으며 물리적인 공간에 여러개의 부분들로 나눠 존재하는데 이 부분을 샤드라고 합니다.</li>
<li>Elasticsearch는 인덱스를 여러 샤드로 나누어 저장하기 때문에, 콘텐츠 볼륨의 수평 분할/확장이 가능하고 병렬화를 통해 성능 및 처리량을 늘릴 수 있습니다.</li>
<li>
<p>샤드는 프라이머리와 레플리카로 구분됩니다.</p>
<ul>
<li>
<p>Prmiary Shard</p>
<ul>
<li><strong>데이터의 원본</strong></li>
<li>엘러스틱서치에서 데이터 업데이트 요청을 날리면 반드시 Primary Shard로 요청이 가고, 해당 내용은 Replica로 복제됩니다.</li>
<li>검색 성능 향샹을 위해 클러스터의 샤드 갯수를 조절합니다.</li>
</ul>
</li>
<li>
<p>Replica Shard</p>
<ul>
<li><strong>Primary Shard의 복제품</strong></li>
<li>기존 원본 데이터가 무너졌을 때, 그 대신 쓰면서 장애 극복 역할은 수행</li>
<li>기본적으로 Primary Shard와 동일한 노드에 배정되지 않습니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="세그먼트segment"><a href="#%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8segment" aria-hidden="true"><span class="icon icon-link"></span></a>세그먼트(Segment)</h4>
<ul>
<li><strong>세그먼트는 Elasticsearch에서 문서의 빠른 검색을 위해 설계된 자료구조</strong></li>
<li>각 샤드는 다수의 세그먼트로 구성되어 있습니다.</li>
<li>Elasticsearch에서 데이터(Document)를 저장하면, 엘라스틱서치는 이것을 메모리에 모아두고 새로운 세그먼트를 디스크에 기록하여 검색을 refresh합니다. 이를 통해 새로운 검색 가능한 세그먼트가 만들어집니다.</li>
<li>샤드에서 검색 시, 각 세그먼트에서 검색하여 결과를 조합한 후 최종 결과를 해당 샤드의 결과로 리턴합니다.</li>
<li>세그먼트는 불변의 성질을 가지고 있어서 데이터가 업데이트되면, 삭제되었다는 마크만 하고 새로운 데이터를 가르킵니다. 삭제되었다고 마크된 데이터는 디스크에 남아있다가, 이후에 성능에 영향을 미치지 않는 선에서 삭제됩니다.</li>
</ul>
<br/>
<h2 id="elasticsearch의-특징"><a href="#elasticsearch%EC%9D%98-%ED%8A%B9%EC%A7%95" aria-hidden="true"><span class="icon icon-link"></span></a>Elasticsearch의 특징</h2>
<h3 id="분산-확장성-병렬처리"><a href="#%EB%B6%84%EC%82%B0-%ED%99%95%EC%9E%A5%EC%84%B1-%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>분산, 확장성, 병렬처리</h3>
<ul>
<li>Elasticsearch는 규모가 수평적으로 늘어나도록 설계하기 때문에, 더 많은 용량이 필요하면 그저 노드를 추가해서 클러스터가 인식할 수 있게 하여 추가적인 하드웨어로 이용할 수 있도록 하면 됩니다.</li>
<li>따라서 확장성 등에서 큰 이점을 가집니다. (같은 클러스터 내이고 초기설정이 그대로라면 노드끼리 연결되지만, 다른 클러스터에 있다면 설정을 해줘야합니다.)</li>
</ul>
<h3 id="고가용성"><a href="#%EA%B3%A0%EA%B0%80%EC%9A%A9%EC%84%B1" aria-hidden="true"><span class="icon icon-link"></span></a>고가용성</h3>
<ul>
<li>동작중에 죽은 노드를 감지하고 삭제하며 사용자의 데이터가 안전하고 접근가능하도록 유지합니다.</li>
<li>동작 중에 일부 노드에 문제가 생기더라도 문제없이 서비스를 제공합니다.</li>
</ul>
<h3 id="멀티-태넌시"><a href="#%EB%A9%80%ED%8B%B0-%ED%83%9C%EB%84%8C%EC%8B%9C" aria-hidden="true"><span class="icon icon-link"></span></a>멀티 태넌시</h3>
<ul>
<li>클러스터는 여러개의 인덱스를 관리할 수 있습니다.</li>
<li>클러스터는 독립된 하나의 쿼리 또는 그룹 쿼리로 여러 인덱스의 데이터를 검색할 수 있습니다.</li>
</ul>
<h3 id="전문full-text-검색"><a href="#%EC%A0%84%EB%AC%B8full-text-%EA%B2%80%EC%83%89" aria-hidden="true"><span class="icon icon-link"></span></a>전문(Full text) 검색</h3>
<ul>
<li>Elasticsearch는 강력한 전문 검색을 지원합니다.</li>
</ul>
<h3 id="문서-중심"><a href="#%EB%AC%B8%EC%84%9C-%EC%A4%91%EC%8B%AC" aria-hidden="true"><span class="icon icon-link"></span></a>문서 중심</h3>
<ul>
<li>Elasticsearch는 복잡한 요소들을 구조화된 JSON 문서 형식으로 지원합니다.</li>
<li>모든 필드는 기본적으로 인덱싱되며, 모든 인덱스들은 단일 쿼리로 빠르게 사용할 수 있습니다.</li>
</ul>
<h3 id="schema-free"><a href="#schema-free" aria-hidden="true"><span class="icon icon-link"></span></a>Schema free</h3>
<ul>
<li>JSON 문서 구조를 통해서 데이터를 인덱싱하고 검색할 수 있습니다.</li>
<li>사용자의 데이터가 어떻게 인덱싱 될 것인지를 커스터마이징할 수 있습니다.</li>
</ul>
<h3 id="restful-api"><a href="#restful-api" aria-hidden="true"><span class="icon icon-link"></span></a>Restful api</h3>
<ul>
<li>
<p>HTTP를 통한 JSON형식의 간단한 RESTful API를 제공하여 여러 다른 API도 제공합니다.</p>
<ul>
<li>ex) Java, JS, Groovy, PHP, Perl, Python, Ruby 등등</li>
</ul>
</li>
</ul>
<br/>
<h2 id="마무리"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>마무리.</h2>
<p>간단하게 내용적으로 Elasticsearch에 대해 정리했습니다. 다음에는 Elasticsearch를 직접 구현해보고, 또한 Kibana와 Logstatsh 등 ELK 스택에 대한 내용을 보충하여 정리하였습니다.</p>
<hr>
<p><strong>출처</strong></p>
<ul>
<li><a href="https://twofootdog.tistory.com/53" target="_blank" rel="nofollow noopener noreferrer">https://twofootdog.tistory.com/53</a></li>
<li><a href="https://www.elastic.co/kr/what-is/elasticsearch" target="_blank" rel="nofollow noopener noreferrer">https://www.elastic.co/kr/what-is/elasticsearch</a></li>
<li><a href="https://victorydntmd.tistory.com/308" target="_blank" rel="nofollow noopener noreferrer">https://victorydntmd.tistory.com/308</a></li>
<li><a href="https://blog.naver.com/archinitus/80205377502" target="_blank" rel="nofollow noopener noreferrer">https://blog.naver.com/archinitus/80205377502</a></li>
<li><a href="https://velog.io/@lsmin0703/ElasticSearch-1-%EA%B0%9C%EB%85%90" target="_blank" rel="nofollow noopener noreferrer">https://velog.io/@lsmin0703/ElasticSearch-1-%EA%B0%9C%EB%85%90</a></li>
<li><a href="https://victorydntmd.tistory.com/308" target="_blank" rel="nofollow noopener noreferrer">https://victorydntmd.tistory.com/308</a></li>
</ul>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/Elasticsearch/" class="post-tags__link"><span>#</span> Elasticsearch
		</a><a href="/tag/Search/" class="post-tags__link"><span>#</span> Search
		</a><a href="/tag/Server/" class="post-tags__link"><span>#</span> Server
		</a><a href="/tag/Backend/" class="post-tags__link"><span>#</span> Backend
		</a></div></div></div><ins data-ad-client="ca-pub-1759762070891290" data-ad-slot="2189844016" data-ad-format="auto" class="adsbygoogle mb-5" style="display:block;"></ins><div class="post-comments" style="display:none;"></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgEDBAcIBQIA/8QAMBAAAQMDAgQFAwQDAQAAAAAAAQIDBAAFERIhBhMxUQciQWFxFJGhFiMygRVCsdH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgMABP/EACARAAICAgICAwAAAAAAAAAAAAECABEDEiExBCITQUL/2gAMAwEAAhEDEQA/ALKr4mmyo5pdVPJXFNIakR4ynUlaspbAznHX4qp/EzxOTw9LctVnQ07cEpBW%2b4QW2sjYY9VfOMe9LuLqNowFyzx0pDWTX%2bM%2bIZMovOcQT9ZUFYbdKQD8DbHxWg/Cy7XriC0xZl%2bTEYiyBy4i06ua%2bpOcqV/qAcHHqaBcDuMqMxoQtNeTUiayGVJKM6TsQeqVDqKjUVYMLEzKVNGeiupMCOZTnZtP8jTcSGp/C3Mpa/JqJfLythf0VrbQp0DzFX8UDuankyfle4%2bLFfs/AnL4x42t9puRgPsZitMuPPSCSSjSkkBCR1Vt%2bM1Stv8ADfibjGQ5f5S4Mf6xfNCJWvUpJ6FSUjbbHrmrNn8PNTo036xXOkymy2VgYCQrY4HxtRBw5DegyHhHhpiAq0lZeLnNGNlHI2PpjeoHbH33Oz0zGh0JRvF/hfxBbYvPiRbc4003%2b43BdcKlnfK9Lm5PsD0HSjjwB46uHEN/uFivKkGN9Ml2KylGAyWyElI7DGDjvRRf1SHJMlEh66ocLepK2NJYwTgJ0k5J37dM71WEaR%2bkfEW0Xvkqw4tUeWllJ8yVDBUB3Gx/qtvtw0Pw6cpNFXZCkMuDqcZz8Vy0kFIPcV3w7HutuS7GcS4hadSVJ6GhoL5bqmVbLRtg0%2bA0SJDyFNAx%2b/XUsIDMfd1Ww/8Aa4DCNIJJJKjlSj1Ue9DDvHvDqOfImXNlK9ZSkDKjgdgM1HV4l8MJjB4zHic45YYUV/bpj%2b6piUKLPcjmcsaHUN0Hzox1yK6z85wJy0yXloQf2kKAVn060B/rOxC1xLg7cEMsSgS0Fg6zg4PlGTsaM7KLbxxZ2btZ5KCtOWXkLRgpUOpwfQ7GtlTeiJTxMioSH6ntcpSLQtU1gIcGdshRx6Zx61XCoKLnci88hTSUkltWN09Onuf%2bVYlybs/DlsU2FtyX86iEKyhJ7k%2bp9qDVXBMyQ64CnmZBWkHdORtkfGKgMPNMZ0t5OtsghxwI%2bhhKoKAEtgakJAwB3p/iqERiUyPOnc49aGLDK5FxYWFY82D8GrGdQmRG3wQRRcatxJo26%2b0wVpK0kDb4pWm3HGwlIyoq0bd6QOBCCTXbtLIMaK6oDSnU8fk9KuBc4pDlQzGmuac%2bVsKH23/Io/8ADriViySXY90b5lskJAdSUatB9FY6/b27UKzG%2bdIQsbamSPuRXp0aClY9Nj8U2sIYjmWNfeIOHks86LeA7g4RFRGWgJHck7mq2uV0luXQ3GO%2b8zLkrAy2op0J7bewFNTUnWgBX8t6bbwJaUkbcsn8ikCAG5R8zMoX6EIovGd8YkM65ijo3xoTggeh23PvWrrFLTMtzLqCClxtK0/BGaxo6%2bhSlKO2lRT8d60t4MXX/IcFW4knWyDHUD1Gk4H4xSZR0Y%2bA8kT/2Q==' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" data-srcset="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">
		To be a Pro in Web developer
	</p><p class="author__links"><a href="//linkedin.com/in/myeonghun-park-7693a1184/">Linkedin</a><a href="//github.com/Azderica">GitHub</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2021.
    </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"[Elastic Search] Elastic Search란?","path":"\u002F00-elasticsearch\u002F","date":"16. November 2020","timeToRead":9,"tags":[{"id":"Elasticsearch","title":"Elasticsearch","path":"\u002Ftag\u002FElasticsearch\u002F"},{"id":"Search","title":"Search","path":"\u002Ftag\u002FSearch\u002F"},{"id":"Server","title":"Server","path":"\u002Ftag\u002FServer\u002F"},{"id":"Backend","title":"Backend","path":"\u002Ftag\u002FBackend\u002F"}],"description":" 엘라스틱서치에 대한 기본 내용을 정리한 글입니다. ","content":"\u003Ch1 id=\"elasticsearch\"\u003E\u003Ca href=\"#elasticsearch\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EElasticsearch.\u003C\u002Fh1\u003E\n\u003Cp\u003E오늘은 Elasticsearch에 대한 기본적인 내용을 정리합니다.\u003C\u002Fp\u003E\n\u003Ch2 id=\"elasticsearch란\"\u003E\u003Ca href=\"#elasticsearch%EB%9E%80\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EElasticsearch란?\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cstrong\u003EElasticsearch는 Apache Lucene(아파치 루씬)을 기반으로 한 Java 오픈소스 분산 검색 엔진입니다.\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003EElasticsearch는 방대한 양의 데이터를 거의 실시간(NRT, Near Real Time)으로 저장, 검색, 분석할 수 있습니다. 이러한 Elasticsearch는 검색을 위해 단독으로 쓰이기도 하며, \u003Cstrong\u003EELK\u003C\u002Fstrong\u003E 스택으로 사용되기도 합니다.\u003C\u002Fp\u003E\n\u003Cp\u003E먼저 Elasticsearch에 본격적으로 들어가기 앞서서, ELK란 (Elasticsearch, Logstatsh, Kibnana)을 의미합니다.\u003C\u002Fp\u003E\n\u003Cp\u003E간단하게 ELK 스택을 설명하면 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F99964448-9e7a5280-2dd6-11eb-9bdc-1ae7cf9f2498.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003ELogstash\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E다양한 소스(DB, csv파일 등)의 로그나 트랜잭션 데이터를 수집, 집계, 파싱하여 Elasticsearch로 전달합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EElasticsearch\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ELogstash로 받은 데이터를 검색 및 집계하여 필요한 관심 정보를 받습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EKibana\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EElasticsearch의 검색 결과를 통해 데이터를 시각화하고 모니터링합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"elasticsearch-용어-정의\"\u003E\u003Ca href=\"#elasticsearch-%EC%9A%A9%EC%96%B4-%EC%A0%95%EC%9D%98\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EElasticsearch 용어 정의\u003C\u002Fh2\u003E\n\u003Ch3 id=\"논리적-구조\"\u003E\u003Ca href=\"#%EB%85%BC%EB%A6%AC%EC%A0%81-%EA%B5%AC%EC%A1%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E논리적 구조\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F99964489-b05bf580-2dd6-11eb-9962-78eae078e84b.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"도큐먼트document\"\u003E\u003Ca href=\"#%EB%8F%84%ED%81%90%EB%A8%BC%ED%8A%B8document\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E도큐먼트(Document)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EElasticsearch 데이터 최소 단위(RDBMS의 Row와 비슷)하고, JSON 오브젝트 중 하나입니다.\u003C\u002Fli\u003E\n\u003Cli\u003E하나의 Document는 다양한 필드로 구성되어 있으며, Document 내부에 Document가 들어갈 수도 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"타입type\"\u003E\u003Ca href=\"#%ED%83%80%EC%9E%85type\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E타입(Type)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E여러개의 Document가 모여서 한 개의 Type을 이룹니다.(RDBMS의 테이블과 비슷)\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EElasticsearch 7.0부터 사라졌습니다.\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"필드field\"\u003E\u003Ca href=\"#%ED%95%84%EB%93%9Cfield\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E필드(Field)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003EDocument에 들어가는 데이터 타입(RDBMS의 column)와 비슷합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EElasticsearch의 필드는 RDBMS보다 동적입니다. 즉. 하나의 데이터 타임만 가질 수 있는 RDBMS와 달리, 하나의 필드가 여러개의 타입을 가질 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"매핑mapping\"\u003E\u003Ca href=\"#%EB%A7%A4%ED%95%91mapping\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E매핑(Mapping)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E매핑(Mapping)은 필드와 필드의 속성을 정의합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E매핑 정보에 여러가지 데이터 타입 지정이 가능하지만 필드명 자체는 중복이 불가능합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"인덱스index\"\u003E\u003Ca href=\"#%EC%9D%B8%EB%8D%B1%EC%8A%A4index\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E인덱스(Index)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E여러개의 Type이 모여 한 개의 Index를 이룹니다.(RDBMS의 Database와 비슷)\u003C\u002Fli\u003E\n\u003Cli\u003EElasticsearch 6.1 부터는 \u003Cstrong\u003E하나의 Index\u003C\u002Fstrong\u003E는 \u003Cstrong\u003E하나의 Type\u003C\u002Fstrong\u003E만 가집니다.(Database + Table과 비슷)\u003C\u002Fli\u003E\n\u003Cli\u003EElasticsearch를 클러스터(분산환경)을 구성하는 경우, Index는 여러 노드에 분산 저장 및 관리가 됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E기본 설정은 5개의 Primary Shard와 1개의 Replica Shard로 생성됩니다. 옵션 값으로 변경 가능합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"물리적-구조\"\u003E\u003Ca href=\"#%EB%AC%BC%EB%A6%AC%EC%A0%81-%EA%B5%AC%EC%A1%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E물리적 구조\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F99964072-15fbb200-2dd6-11eb-9485-1887247ebdb4.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Ch4 id=\"노드node\"\u003E\u003Ca href=\"#%EB%85%B8%EB%93%9Cnode\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E노드(Node)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E노드는 Elasticsearch 클러스터에 포함된 \u003Cstrong\u003E단일 서버\u003C\u002Fstrong\u003E로서 데이터를 저장하고 클러스터의 색인화 및 검색 기능에 참여합니다. 노드는 클러스터처럼 이름으로 식별됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E일반적으로 노드의 종류는 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E마스터 노드(Master node)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E클러스터 관리 노드\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E노드 추가\u002F제거, 인덱스 생성\u002F삭제 등 클러스터의 전반적 관리를 담당합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E여러개의 마스터 노드를 설정하면 하나의 마스터 노드로 작동됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Eelasticsearch.yml\u003C\u002Fcode\u003E 에서 \u003Ccode class=\"language-text\"\u003Enode.master:true\u003C\u002Fcode\u003E로 설정합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E데이터 노드(Data node)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E데이터(Document)가 저장되는 노드\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E물리적인 공간인 샤드가 배치되는 노드\u003C\u002Fli\u003E\n\u003Cli\u003E색인\u002F검색\u002F통계 등 데이터 작업 수행(리소스가 소모가 심해 모니터링이 필요합니다.)\u003C\u002Fli\u003E\n\u003Cli\u003E마스터와는 분리할 필요가 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Eelasticsearch.yml\u003C\u002Fcode\u003E의 \u003Ccode class=\"language-text\"\u003Enode.data : true\u003C\u002Fcode\u003E로 설정합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E코디네이팅 노드(Coordinating Node)\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E사용자의 요청을 받고 Round Robin 방식으로 분산시켜주는 노드\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E클러스터에 관련된 것은 마스터노드로, 데이터와 관련된 것은 데이터 노드로 넘깁니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Eelasticsearch.yml\u003C\u002Fcode\u003E 내부의 노드 종류 관련 옵션을 전부 \u003Ccode class=\"language-text\"\u003Efalse\u003C\u002Fcode\u003E로 설정합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E인제스트 노드(Ingest node) :\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E문서 전처리 작업을 수행\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E인덱스 생성 전 문서의 형식을 변경할 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Eelasticsearch.yml\u003C\u002Fcode\u003E의 \u003Ccode class=\"language-text\"\u003Enode.ingest:true\u003C\u002Fcode\u003E로 설정합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"샤드shard\"\u003E\u003Ca href=\"#%EC%83%A4%EB%93%9Cshard\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E샤드(Shard)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E인덱스 내부에는 색인된 데이터\u003C\u002Fstrong\u003E들이 존재하며, 이 데이터들은 하나로 뭉쳐서 존재하지 않으며 물리적인 공간에 여러개의 부분들로 나눠 존재하는데 이 부분을 샤드라고 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EElasticsearch는 인덱스를 여러 샤드로 나누어 저장하기 때문에, 콘텐츠 볼륨의 수평 분할\u002F확장이 가능하고 병렬화를 통해 성능 및 처리량을 늘릴 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E샤드는 프라이머리와 레플리카로 구분됩니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EPrmiary Shard\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E데이터의 원본\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E엘러스틱서치에서 데이터 업데이트 요청을 날리면 반드시 Primary Shard로 요청이 가고, 해당 내용은 Replica로 복제됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E검색 성능 향샹을 위해 클러스터의 샤드 갯수를 조절합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EReplica Shard\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003EPrimary Shard의 복제품\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E기존 원본 데이터가 무너졌을 때, 그 대신 쓰면서 장애 극복 역할은 수행\u003C\u002Fli\u003E\n\u003Cli\u003E기본적으로 Primary Shard와 동일한 노드에 배정되지 않습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch4 id=\"세그먼트segment\"\u003E\u003Ca href=\"#%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8segment\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E세그먼트(Segment)\u003C\u002Fh4\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E세그먼트는 Elasticsearch에서 문서의 빠른 검색을 위해 설계된 자료구조\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E각 샤드는 다수의 세그먼트로 구성되어 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003EElasticsearch에서 데이터(Document)를 저장하면, 엘라스틱서치는 이것을 메모리에 모아두고 새로운 세그먼트를 디스크에 기록하여 검색을 refresh합니다. 이를 통해 새로운 검색 가능한 세그먼트가 만들어집니다.\u003C\u002Fli\u003E\n\u003Cli\u003E샤드에서 검색 시, 각 세그먼트에서 검색하여 결과를 조합한 후 최종 결과를 해당 샤드의 결과로 리턴합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E세그먼트는 불변의 성질을 가지고 있어서 데이터가 업데이트되면, 삭제되었다는 마크만 하고 새로운 데이터를 가르킵니다. 삭제되었다고 마크된 데이터는 디스크에 남아있다가, 이후에 성능에 영향을 미치지 않는 선에서 삭제됩니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"elasticsearch의-특징\"\u003E\u003Ca href=\"#elasticsearch%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EElasticsearch의 특징\u003C\u002Fh2\u003E\n\u003Ch3 id=\"분산-확장성-병렬처리\"\u003E\u003Ca href=\"#%EB%B6%84%EC%82%B0-%ED%99%95%EC%9E%A5%EC%84%B1-%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E분산, 확장성, 병렬처리\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EElasticsearch는 규모가 수평적으로 늘어나도록 설계하기 때문에, 더 많은 용량이 필요하면 그저 노드를 추가해서 클러스터가 인식할 수 있게 하여 추가적인 하드웨어로 이용할 수 있도록 하면 됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E따라서 확장성 등에서 큰 이점을 가집니다. (같은 클러스터 내이고 초기설정이 그대로라면 노드끼리 연결되지만, 다른 클러스터에 있다면 설정을 해줘야합니다.)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"고가용성\"\u003E\u003Ca href=\"#%EA%B3%A0%EA%B0%80%EC%9A%A9%EC%84%B1\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E고가용성\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E동작중에 죽은 노드를 감지하고 삭제하며 사용자의 데이터가 안전하고 접근가능하도록 유지합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E동작 중에 일부 노드에 문제가 생기더라도 문제없이 서비스를 제공합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"멀티-태넌시\"\u003E\u003Ca href=\"#%EB%A9%80%ED%8B%B0-%ED%83%9C%EB%84%8C%EC%8B%9C\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E멀티 태넌시\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E클러스터는 여러개의 인덱스를 관리할 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E클러스터는 독립된 하나의 쿼리 또는 그룹 쿼리로 여러 인덱스의 데이터를 검색할 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"전문full-text-검색\"\u003E\u003Ca href=\"#%EC%A0%84%EB%AC%B8full-text-%EA%B2%80%EC%83%89\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E전문(Full text) 검색\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EElasticsearch는 강력한 전문 검색을 지원합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"문서-중심\"\u003E\u003Ca href=\"#%EB%AC%B8%EC%84%9C-%EC%A4%91%EC%8B%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E문서 중심\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EElasticsearch는 복잡한 요소들을 구조화된 JSON 문서 형식으로 지원합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E모든 필드는 기본적으로 인덱싱되며, 모든 인덱스들은 단일 쿼리로 빠르게 사용할 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"schema-free\"\u003E\u003Ca href=\"#schema-free\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESchema free\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJSON 문서 구조를 통해서 데이터를 인덱싱하고 검색할 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E사용자의 데이터가 어떻게 인덱싱 될 것인지를 커스터마이징할 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"restful-api\"\u003E\u003Ca href=\"#restful-api\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ERestful api\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EHTTP를 통한 JSON형식의 간단한 RESTful API를 제공하여 여러 다른 API도 제공합니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eex) Java, JS, Groovy, PHP, Perl, Python, Ruby 등등\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"마무리\"\u003E\u003Ca href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E마무리.\u003C\u002Fh2\u003E\n\u003Cp\u003E간단하게 내용적으로 Elasticsearch에 대해 정리했습니다. 다음에는 Elasticsearch를 직접 구현해보고, 또한 Kibana와 Logstatsh 등 ELK 스택에 대한 내용을 보충하여 정리하였습니다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Cstrong\u003E출처\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Ftwofootdog.tistory.com\u002F53\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Ftwofootdog.tistory.com\u002F53\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.elastic.co\u002Fkr\u002Fwhat-is\u002Felasticsearch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.elastic.co\u002Fkr\u002Fwhat-is\u002Felasticsearch\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fvictorydntmd.tistory.com\u002F308\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fvictorydntmd.tistory.com\u002F308\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fblog.naver.com\u002Farchinitus\u002F80205377502\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fblog.naver.com\u002Farchinitus\u002F80205377502\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fvelog.io\u002F@lsmin0703\u002FElasticSearch-1-%EA%B0%9C%EB%85%90\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fvelog.io\u002F@lsmin0703\u002FElasticSearch-1-%EA%B0%9C%EB%85%90\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fvictorydntmd.tistory.com\u002F308\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fvictorydntmd.tistory.com\u002F308\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fassets\u002Fstatic\u002FElasticsearchLogo.07cc2b7.87a6170aa6a46ae64017f0123ab695e5.png","size":{"width":860,"height":484},"sizes":"(max-width: 860px) 100vw, 860px","srcset":["\u002Fassets\u002Fstatic\u002FElasticsearchLogo.a67b0b2.87a6170aa6a46ae64017f0123ab695e5.png 480w","\u002Fassets\u002Fstatic\u002FElasticsearchLogo.07cc2b7.87a6170aa6a46ae64017f0123ab695e5.png 860w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 860 484' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-c5b5f461f1f441aa2e4caaf0873aea84'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-c5b5f461f1f441aa2e4caaf0873aea84)' width='860' height='484' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAADrUlEQVRo3u2XSVMTQRTHuXnxA%2bjVg5XyYnlwOXixPFse9e738KaoBzZFCtlkMQlkIQFZZE1IIBSxgECAVMgiZoNESAwJBJL5j90dJk6liAqSg9hd6Zqe7p5%2b7\u002F36ve6XCvE\u002FLxUcAAfAAXAAHAAHwAFwABwAB3CCAhw98oU2pb5zDYAZK\u002F0gkF%2bW1EPSzkkgxJ9MzhkAmWHM4GPGRTmEIg8pOXbcnD\u002FejBIyygRAkiuwhpCJIBNoxp6\u002FBodxWz4MZAoJglBQhrZplfqlMbm%2b0rg0R\u002F4sbpeSUQznbEMgL5ItnAqMwaNS4Ft\u002FBZJDFYiTmnY\u002FZRCIVoVPtre3sbW5eawyRwojGo0ik8mcOmZ2dnZA5cjXLFsIMCHE04OOLnjMlQgtvcWWrxEJXx3EuJniYXPCoRDiRLHlpSWMj40jFovB7\u002FMx5XzkSY3uN\u002FbBbDLB6\u002FUilUrB7Xaz\u002Fh1ijMvlYrg3NjZADaSA1lZXkdrdxS6pwUAQ8XgcPq8P09ZpKLs%2bILoVhTyyzhxALpeP%2b1mbDVcVN6C4el28cu%2bReEEVEy8bk3B%2bzxsfJMY31L9l1dhrwKxtFs7lZdRUVeHT8DBevXgJz\u002Fo6Ots70KvTY2J8HH0GI3rU3XCtuVD57DksUxY4Fh1oanyH2qpqBk%2btVEFP5n\u002Fo7EK3Ss3erWSeZWoK71vb0NLUjEgkgrKFgATAbrfj\u002Fu07eHDrJu4\u002FfAyFzi\u002FeHQohkDxk4\u002FPzC3hZ%2bYLsjBWfhoah02gx0P8Rr2vrYJuxYXJiAtoeDYwGAzaJwqMjI6itrsHGly\u002Fse6vFwoyjxrc2txAvMbO51OjOjg6olEqEw2GR7jq11T43R2AtwjRpwurKCorPg7LcAnWLdjwZHcCz%2bVk0eNbwxr0MayzEFNol7kyV\u002FUxA%2bf1%2btkN6rQ7dajWsFivbXb1OhwUCisKZmZ6Gw%2bFAW0srnE4n6Z9nu0yN0nT3sHCgoULbBn0vxkZHWciYJieh1WiYHK\u002FHwzwmFAyVzwNwdNvT9kDAj4vt9bikb4ViUIlrgyo0rDsLB1A2m2VngKTIwcEBi2PqRTR2pTX30nuFOXR8f3%2bfxbh0KNL3RCLB1k2n0zjywoIcOld28EF%2bO5YrE6TpD2uks4cYiXyFNuDFejJRUEoool9qM0pdYSWutZI5h%2bxdPE06cBIPKAjIHSNBKEqE\u002FracdplfQT%2bTVPjndUhDQkCWJjZF2RjEc5gK\u002F8Yr%2bN9hDoAD4AA4AA6AA%2bAAOAAOgAP4t8oPPLVSy5rYiR8AAAAASUVORK5CYII=' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.d6a54c50.js" defer></script><script src="/assets/js/page--src--templates--post-vue.54ab712c.js" defer></script>
  </body>
</html>
