<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>[Spring] Spring Batch 개념 잡기 - Azderica</title><meta name="gridsome:hash" content="c2dcd6346273a26a908e8ae3dd5d59774a4a3863"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="부족하지만 꿈많은 웹 개발자의 발전 기록입니다."><meta data-vue-tag="ssr" name="description" content="Spring Batch에 대한 기본 개념에 대해 정리합니다."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.d0be325ebfe2762f973f3e0685345394.png"><link rel="preload" href="/assets/css/0.styles.aba15cd2.css" as="style"><link rel="preload" href="/assets/js/app.8989048c.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.db0b3320.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.16bd0c36.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.0e66b8fd.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.0bd644be.js"><link rel="stylesheet" href="/assets/css/0.styles.aba15cd2.css"><script data-vue-tag="ssr" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <script
      data-ad-client="ca-pub-1759762070891290"
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="shortcut icon" type="image/png" href="favicon.png" />
    <meta
      name="google-site-verification"
      content="MqpGCz7XVg4s3AWfrGHCt6AlXPacpV9iGvSFVD0ATHw"
    />
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      ;(function() {
        window.__onThemeChange = function() {}
        function setTheme(newTheme) {
          window.__theme = newTheme
          preferredTheme = newTheme
          document.body.setAttribute('data-theme', newTheme)
          window.__onThemeChange(newTheme)
        }

        var preferredTheme
        try {
          preferredTheme = localStorage.getItem('theme')
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme)
          try {
            localStorage.setItem('theme', newTheme)
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        })

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
      })()
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← Azderica
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      [Spring] Spring Batch 개념 잡기
    </h1><div class="post-meta">
   Posted 23. February 2022.
   <strong>9 min read.</strong></div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 820 442' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-29f2605aef896f90944d207b9d4e9d4c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-29f2605aef896f90944d207b9d4e9d4c)' width='820' height='442' xlink:href='data:image/png%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAiAEADASIAAhEBAxEB/8QAGwABAAMBAAMAAAAAAAAAAAAAAAQFBgMCBwj/xAAqEAABAwQBAgUEAwAAAAAAAAABAgMEAAURIRIGMRNBUWGBFBUiMgdxof/EABgBAQADAQAAAAAAAAAAAAAAAAACAwQB/8QAIxEAAgICAgIBBQAAAAAAAAAAAAECEQMhEjEEQVEiYZGx4f/aAAwDAQACEQMRAD8A%2bnaUpQCs51b1SxYEobS348xwckt5wEj1Ua0dYx2BBX/IEt%2b9lrwRGQ7HD5AQcYB76OPT3rN5U5xglj026v4Ksrkl9Psr7H17OnXFqO5bUPpcVjEbPJPvvR/yvYDKy42FKTxVsFOc4I0RUWNLiuZFrZQhgDLkkN8G0pHocDkf60PWu8RYdbU6j9HFqWj3STo/Pf5rnjKcVU58hiUlpys7UpStRaKgXi5t2xplS21uuPuBpptBAKlEZ7kgDt51PqtvsF6fFS019ItPLK2pTXNCx8HII9RUMnLi%2bPZGV1oiOdRcJLMUWueZjrRdSxxSDpWDk5wB557VW3i%2b225Qm4cmBOedfWtox2xxdQ4jB4nfuDntquMKx3W3XmMIbyCW4jmVuNqUz%2bTmfCG8gAdt51VjbunXo90jXCRKQ7IDjzr5CMBSlpCQE%2bgAFYrz5Fxa%2bzuutfn2UXkkqKCNHs0e4JaMS7T5AeW0mO66Fp5oSFdsgY3561WjR1RHcaaSxDluTXHVsiGEgOJUj9snOABkbrxidPusX77gZCCj6h57gEnOFpSAPjFV1ytUy1z/ALjBDj0lUp50eGyXEhtYT%2bK0gg%2bXcVGMcuFNxVK/hda3%2bziU4LSNDaLu3c3pbSWH2HYqkpcS8ACCRnGjVlWd6Rjzg9c51yQpDkt1JSlaOBwlOM8cnA9Ad6rRVtwSlKCcu/7ovxtuNsUpSrSYpSlAKUpQClKUB//Z' /%3e%3c/svg%3e" width="820" data-src="/assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png" data-srcset="/assets/static/SpringLogo.a67b0b2.be0c3d9590430504675b948223711f21.png 480w, /assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png 820w" data-sizes="(max-width: 820px) 100vw, 820px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png" class="g-image g-image--loaded" width="820" alt="Cover image"></noscript></div><div class="post__content"><h1 id="spring-batch-개념-잡기"><a href="#spring-batch-%EA%B0%9C%EB%85%90-%EC%9E%A1%EA%B8%B0" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch 개념 잡기</h1>
<p>스프링 배치에 대한 기본 개념을 잘 이해하지 못하고 있음을 느껴 이에 따라 정리합니다. 정확히는 Spring Rest API와의 정확한 차이를 모른다는 생각이 들었습니다.</p>
<br/>
<h2 id="spring-batch란"><a href="#spring-batch%EB%9E%80" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch란.</h2>
<ul>
<li>배치 프로세싱은 <strong>일괄처리</strong>라는 뜻을 가지고 있으며, 일괄처리의 의미는 일련의 작업을 정해진 로직으로 수행하는 것입니다.</li>
<li>스프링 배치는 <strong>로깅/추적, 트랜잭션 관리, 작업 처리 통계, 작업 재시작, 건너뛰기, 리소스 관리 등 대용량 레코드 처리에 필수적인 기능을 제공</strong>합니다.</li>
<li>최적화 및 파티셔닝 기술을 통해 대용량 및 고성능 배치 작업을 가능하게 하는 고급 기술 서비스 및 기능을 제공합니다.</li>
<li>Spring Batch에서 배치가 실패하여 작업 재시작을 하게 된다면 처음부터가 아닌 실패한 지점부터 실행을 합니다.</li>
<li>중복 실행을 막기 위해 성공한 이력이 있는 Batch는 동일한 Parameters로 실행 시 Exception이 발생합니다.</li>
</ul>
<h3 id="일괄처리가-필요한-경우"><a href="#%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0" aria-hidden="true"><span class="icon icon-link"></span></a>일괄처리가 필요한 경우</h3>
<ul>
<li>대용량의 비지니스 데이터를 복잡한 작업으로 처리해야하는 경우</li>
<li>특정한 시점에 스케줄러를 통해 자동화된 작업이 필요한 경우</li>
<li>대용량 데이터의 포맷을 변경, 유효성 검사 등의 작업을 트랜잭션 안에서 처리 후 기록해야하는 경우</li>
</ul>
<h3 id="batch-vs-quartz"><a href="#batch-vs-quartz" aria-hidden="true"><span class="icon icon-link"></span></a>Batch VS Quartz</h3>
<ul>
<li>Spring Batch는 Scheduler가 아니기에 비교 대상이 아닙니다.</li>
<li>Spring Batch는 Batch Job을 관리하지만 Job을 구동하거나 실행시키는 기능은 지원하고 있지 않습니다.</li>
<li>Spring에서 Batch Job을 실행시키기 위해서는 Quartz, Scheduler, Jenkins 등 전용 Scheduler를 사용하여야 합니다.</li>
</ul>
<p><a href="https://homoefficio.github.io/2019/09/28/Quartz-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%A0%81%EC%9A%A9-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B0%9C%EC%84%A0-1/" target="_blank" rel="nofollow noopener noreferrer">Quartz Scheduler</a></p>
<br/>
<h2 id="spring-batch-원칙-및-가이드"><a href="#spring-batch-%EC%9B%90%EC%B9%99-%EB%B0%8F-%EA%B0%80%EC%9D%B4%EB%93%9C" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch 원칙 및 가이드</h2>
<ul>
<li><strong>배치와 서비스에 영향</strong>을 최소화할 수 있도록 구조와 환경에 맞게 디자인합니다.</li>
<li>배치 어플리케이션 내에서 가능한한 복잡한 로직은 피하고 <strong>단순</strong>하게 설계합니다.</li>
<li>데이터 처리하는 곳과 데이터의 저장소는 물리적으로 가능한한 가까운 곳에 위치하게 합니다.</li>
<li>I/O 등의 <strong>시스템 리소스의 사용을 최소화</strong>하고 최대한 많은 데이터를 메모리 위에서 처리합니다.</li>
<li>처리 시간이 많이 걸리는 작업을 시작하기 전에 메모리 재할당에 소모되는 시간을 피하기 위해 충분한 메모리를 할당합니다.</li>
<li>데이터 무결성을 위해서 적절한 <strong>검사 및 기록</strong>하는 코드를 추가합니다.</li>
</ul>
<br/>
<h2 id="spring-batch의-3가지-레이어"><a href="#spring-batch%EC%9D%98-3%EA%B0%80%EC%A7%80-%EB%A0%88%EC%9D%B4%EC%96%B4" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch의 3가지 레이어</h2>
<p><img src="https://user-images.githubusercontent.com/42582516/155138569-34e5e8e7-d474-47a3-b572-e3cffa7be069.png" alt="Spring-Batch-3가지-레이어"></p>
<ul>
<li>Application : 개발자가 작성한 모든 배치 작업과 사용자 정의 코드 포함</li>
<li>
<p>Batch Core : 배치 작업을 시작하고 제어하는데 필요한 핵심 런타임 클래스 포함</p>
<ul>
<li>JobLauncher, Job, Step</li>
</ul>
</li>
<li>Batch Infrastructure : 개발자와 어플리케이션에서 사용하는 일반적인 Reader와 Writer 그리고</li>
</ul>
<blockquote>
<p>스프링 배치는 계층 구조가 이와 같이 설계되어 있어 Application 계층에서 비지니스 로직을 집중하고 Batch Core에 있는 클래스들을 이용해 제어할 수 있습니다.</p>
</blockquote>
<br/>
<h2 id="spring-batch-job-구성-및-개념"><a href="#spring-batch-job-%EA%B5%AC%EC%84%B1-%EB%B0%8F-%EA%B0%9C%EB%85%90" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch Job 구성 및 개념</h2>
<p><img src="https://user-images.githubusercontent.com/42582516/155139624-20d39950-44c3-4073-acf2-9b0116ee7220.png" alt="spring-job-step"></p>
<h3 id="job"><a href="#job" aria-hidden="true"><span class="icon icon-link"></span></a>Job</h3>
<ul>
<li>배치처리 과정을 하나의 단위로 만들어놓은</li>
<li>배치처리 과정에 있어 전체 계층 최상단에 위치합니다.</li>
</ul>
<h3 id="jobinstance"><a href="#jobinstance" aria-hidden="true"><span class="icon icon-link"></span></a>JobInstance</h3>
<ul>
<li>Job의 실행 단위</li>
<li>2/23일, 2/24일 실행 시 각각의 JobInstance가 생성됩니다.</li>
<li>앞서 이야기한것 처럼 2/23 실행 실패시 2/23에 대한 데이터만 처리하게 됩니다.</li>
</ul>
<h3 id="jobparameters"><a href="#jobparameters" aria-hidden="true"><span class="icon icon-link"></span></a>JobParameters</h3>
<ul>
<li>JobInstance를 구별할 때 사용합니다.</li>
<li>String, Double, Long, Date 4가지 형식을 지원합니다,</li>
</ul>
<h3 id="jobexecution"><a href="#jobexecution" aria-hidden="true"><span class="icon icon-link"></span></a>JobExecution</h3>
<ul>
<li>JobInstance에 대한 실행 시도에 대한 객체입니다.</li>
<li>실패하여 재실행 시킨 경우 동일한 JobInstance이나 2번 실행에 대한 JobExecution은 개별로 생기게 됩니다.</li>
<li>JobInstanced 실행에 대한 상태, 시작시간, 종료시간, 생성시간 등의 정보를 담습니다.</li>
</ul>
<h3 id="step"><a href="#step" aria-hidden="true"><span class="icon icon-link"></span></a>Step</h3>
<ul>
<li>Job의 배치 처리를 정의하고 순차적인 단계를 캡슐화합니다.</li>
<li>Job은 최소한 1개 이상의 Step을 가져야 하며 Job의 실제 일괄처리를 제어하는 모든 정보가 들어있습니다.</li>
</ul>
<h3 id="stepexecution"><a href="#stepexecution" aria-hidden="true"><span class="icon icon-link"></span></a>StepExecution</h3>
<ul>
<li>Step 실행 시도에 대한 객체입니다.</li>
<li>이전 단계의 Step이 실패하면 StepExecution은 생성되지 않습니다.</li>
<li>실제 시작이 될 때만 생성됩니다.</li>
<li>StepExecution은 JobExecution에 저장되는 정보 외에 read 수, write 수, commit 수, skip 수 등의 정보들이 저장됩니다.</li>
</ul>
<h3 id="executioncontext"><a href="#executioncontext" aria-hidden="true"><span class="icon icon-link"></span></a>ExecutionContext</h3>
<ul>
<li>Job에서 데이터를 공유 할 수 있는 데이터 저장소</li>
<li>Spring Batch에서 제공하는 ExecutionContext는 JobExecutionContext, StepExecutionContext 2가지 종류가 있으나 이 두가지는 지정되는 범위가 다릅니다.</li>
<li>JobExecutionContext의 경우 Commit 시점에 저장되는 반면 StepExecutionContext는 실행 사이에 저장이 되게 됩니다.</li>
<li>ExecutionContext를 통해 Step간 Data 공유가 가능하며 Job 실패시 ExecutionContext를 통한 마지막 실행 값을 재구성할 수 있습니다.</li>
</ul>
<h3 id="jobrepository"><a href="#jobrepository" aria-hidden="true"><span class="icon icon-link"></span></a>JobRepository</h3>
<ul>
<li>위의 모든 배치 처리 정보를 담고있는 매커니즘</li>
<li>Job이 실행되게 되면 JobRepository에 JobExecution과 StepExecution을 생성하게 되며 JobRepository에서 Execution 정보들을 저장하고 조죄하며 사용하게 됩니다.</li>
</ul>
<h3 id="joblauncher"><a href="#joblauncher" aria-hidden="true"><span class="icon icon-link"></span></a>JobLauncher</h3>
<ul>
<li>JobLauncher는 Job과 JobParameters를 사용하여 Job을 실행하는 객체입니다.</li>
</ul>
<h3 id="itemreader"><a href="#itemreader" aria-hidden="true"><span class="icon icon-link"></span></a>ItemReader</h3>
<ul>
<li>Step에서 Item을 읽어오는 인터페이스</li>
<li>ItemReader에 대한 다양한 인터페이스가 존재하며 다양한 방법으로 Item을 읽어올 수 있습니다.</li>
</ul>
<h3 id="itemwriter"><a href="#itemwriter" aria-hidden="true"><span class="icon icon-link"></span></a>ItemWriter</h3>
<ul>
<li>처리된 Data를 Writer할 때 사용합니다.</li>
<li>처리 결과물에 따라 Insert, Update, Queue의 Send 등이 될 수 있습니다.</li>
<li>기본적으로 Item을 Chunk로 묶어 처리하고 있습니다.</li>
</ul>
<h3 id="itemprocessor"><a href="#itemprocessor" aria-hidden="true"><span class="icon icon-link"></span></a>ItemProcessor</h3>
<ul>
<li>Reader에서 읽어온 Item을 데이터 처리하는 역할을 합니다.</li>
<li>Processor는 배치를 처리하는데 필수 요소는 아니며 Reader, Writer, Processor 처리를 분리하여 각각의 역할을 명확하게 구분합니다.</li>
</ul>
<br/>
<h2 id="spring-batch-장점"><a href="#spring-batch-%EC%9E%A5%EC%A0%90" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Batch 장점</h2>
<ul>
<li>
<p>유지보수성</p>
<ul>
<li>배치는 다른 어플리케이션의 코드들보다 수명이 깁니다.</li>
<li>테스트 용이성, 풍부한 API</li>
</ul>
</li>
<li>
<p>유연성</p>
<ul>
<li>JVM을 이용한 이식성 (기존의 코볼, C++ 등과 비교했을 때)</li>
<li>코드 공유능력 (POJO 재활용 등)</li>
</ul>
</li>
<li>
<p>확장성</p>
<ul>
<li>과거의 메인프레임 방식이나, 커스텀하게 처리하던 방식은 병렬 처리르 하려면 고려할게 많아 확장성과 안정성이 떨어집니다.</li>
<li>자바(or 스프링) 배치는 단일 처리, 병력 처리 등이 모두 가능합니다.</li>
</ul>
</li>
<li>
<p>개발인력</p>
<ul>
<li>자바, 스프링 프레임워크를 기반</li>
<li>커뮤니티의 강력한 지원</li>
</ul>
</li>
<li>
<p>비용</p>
<ul>
<li>오픈소스</li>
</ul>
</li>
</ul>
<h3 id="배치-프레임워크-중-스프링-배치를-쓰면-얻는-장점은"><a href="#%EB%B0%B0%EC%B9%98-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A4%91-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B0%B0%EC%B9%98%EB%A5%BC-%EC%93%B0%EB%A9%B4-%EC%96%BB%EB%8A%94-%EC%9E%A5%EC%A0%90%EC%9D%80" aria-hidden="true"><span class="icon icon-link"></span></a>배치 프레임워크 중 스프링 배치를 쓰면 얻는 장점은?</h3>
<ul>
<li>
<p>ETL(추출=extract - 변환=transform - 적재=load) 패턴에 적합합니다.</p>
<ul>
<li>청크 기반 처리</li>
<li>다양한 확장 기능</li>
</ul>
</li>
<li>
<p>데이터 마이그레이션</p>
<ul>
<li>보통 1회성으로 대충 만들 가능성이 높으나, 스프링 배치를 사용한다면, 풍부한 지원(커밋수, 롤백 등)</li>
</ul>
</li>
<li>병렬 처리</li>
<li>
<p>워크로드 조정</p>
<ul>
<li>Spring Cloud Data Flow 등을 통해 GUI로 테스크 조정 등</li>
</ul>
</li>
</ul>
<br/>
<h2 id="마무리"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>마무리.</h2>
<p>Spring Batch에 대한 예제는 다음 글에서 정리합니다.</p>
<hr>
<p><strong>출처</strong></p>
<ul>
<li><a href="https://github.com/spring-projects/spring-batch" target="_blank" rel="nofollow noopener noreferrer">Spring Batch Github Repository</a></li>
<li><a href="https://www.fwantastic.com/2019/12/spring-batch-intro.html" target="_blank" rel="nofollow noopener noreferrer">Intro - 스프링 배치 기본 개념 익히기</a></li>
<li><a href="https://www.fwantastic.com/2019/12/spring-batch-1-hello-world.html" target="_blank" rel="nofollow noopener noreferrer">스프링 배치 강좌 1. 프로그래밍의 꽃. 스프링 배치 Hello World!</a></li>
<li><a href="https://khj93.tistory.com/entry/Spring-Batch%EB%9E%80-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B3%A0-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" target="_blank" rel="nofollow noopener noreferrer">Spring Batch란? 이해하고 사용하기(예제소스 포함)</a></li>
<li><a href="https://deeplify.dev/back-end/spring/batch-tutorial" target="_blank" rel="nofollow noopener noreferrer">Batch 소개와 간단한 예제</a></li>
<li><a href="https://jojoldu.tistory.com/324" target="_blank" rel="nofollow noopener noreferrer">배치 어플리케이션이란?</a></li>
<li><a href="https://sjh836.tistory.com/187" target="_blank" rel="nofollow noopener noreferrer">1장 배치와 스프링</a></li>
<li><a href="https://sjh836.tistory.com/188?category=680970" target="_blank" rel="nofollow noopener noreferrer">2장 스프링 배치</a></li>
</ul>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/Spring/" class="post-tags__link"><span>#</span> Spring
		</a><a href="/tag/SpringBoot/" class="post-tags__link"><span>#</span> SpringBoot
		</a><a href="/tag/JPA/" class="post-tags__link"><span>#</span> JPA
		</a><a href="/tag/Spring%20Batch/" class="post-tags__link"><span>#</span> Spring Batch
		</a><a href="/tag/Backend/" class="post-tags__link"><span>#</span> Backend
		</a></div></div></div><div class="post-comments" style="display:none;"></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgEDBAcIBQIA/8QAMBAAAQMDAgQFAwQDAQAAAAAAAQIDBAAFERIhBhMxUQciQWFxFJGhFiMygRVCsdH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgMABP/EACARAAICAgICAwAAAAAAAAAAAAECABEDEiExBCITQUL/2gAMAwEAAhEDEQA/ALKr4mmyo5pdVPJXFNIakR4ynUlaspbAznHX4qp/EzxOTw9LctVnQ07cEpBW%2b4QW2sjYY9VfOMe9LuLqNowFyzx0pDWTX%2bM%2bIZMovOcQT9ZUFYbdKQD8DbHxWg/Cy7XriC0xZl%2bTEYiyBy4i06ua%2bpOcqV/qAcHHqaBcDuMqMxoQtNeTUiayGVJKM6TsQeqVDqKjUVYMLEzKVNGeiupMCOZTnZtP8jTcSGp/C3Mpa/JqJfLythf0VrbQp0DzFX8UDuankyfle4%2bLFfs/AnL4x42t9puRgPsZitMuPPSCSSjSkkBCR1Vt%2bM1Stv8ADfibjGQ5f5S4Mf6xfNCJWvUpJ6FSUjbbHrmrNn8PNTo036xXOkymy2VgYCQrY4HxtRBw5DegyHhHhpiAq0lZeLnNGNlHI2PpjeoHbH33Oz0zGh0JRvF/hfxBbYvPiRbc4003%2b43BdcKlnfK9Lm5PsD0HSjjwB46uHEN/uFivKkGN9Ml2KylGAyWyElI7DGDjvRRf1SHJMlEh66ocLepK2NJYwTgJ0k5J37dM71WEaR%2bkfEW0Xvkqw4tUeWllJ8yVDBUB3Gx/qtvtw0Pw6cpNFXZCkMuDqcZz8Vy0kFIPcV3w7HutuS7GcS4hadSVJ6GhoL5bqmVbLRtg0%2bA0SJDyFNAx%2b/XUsIDMfd1Ww/8Aa4DCNIJJJKjlSj1Ue9DDvHvDqOfImXNlK9ZSkDKjgdgM1HV4l8MJjB4zHic45YYUV/bpj%2b6piUKLPcjmcsaHUN0Hzox1yK6z85wJy0yXloQf2kKAVn060B/rOxC1xLg7cEMsSgS0Fg6zg4PlGTsaM7KLbxxZ2btZ5KCtOWXkLRgpUOpwfQ7GtlTeiJTxMioSH6ntcpSLQtU1gIcGdshRx6Zx61XCoKLnci88hTSUkltWN09Onuf%2bVYlybs/DlsU2FtyX86iEKyhJ7k%2bp9qDVXBMyQ64CnmZBWkHdORtkfGKgMPNMZ0t5OtsghxwI%2bhhKoKAEtgakJAwB3p/iqERiUyPOnc49aGLDK5FxYWFY82D8GrGdQmRG3wQRRcatxJo26%2b0wVpK0kDb4pWm3HGwlIyoq0bd6QOBCCTXbtLIMaK6oDSnU8fk9KuBc4pDlQzGmuac%2bVsKH23/Io/8ADriViySXY90b5lskJAdSUatB9FY6/b27UKzG%2bdIQsbamSPuRXp0aClY9Nj8U2sIYjmWNfeIOHks86LeA7g4RFRGWgJHck7mq2uV0luXQ3GO%2b8zLkrAy2op0J7bewFNTUnWgBX8t6bbwJaUkbcsn8ikCAG5R8zMoX6EIovGd8YkM65ijo3xoTggeh23PvWrrFLTMtzLqCClxtK0/BGaxo6%2bhSlKO2lRT8d60t4MXX/IcFW4knWyDHUD1Gk4H4xSZR0Y%2bA8kT/2Q==' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" data-srcset="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">To be a Pro in Web developer</p><p class="author__links"><a href="//linkedin.com/in/myeonghun-park-7693a1184/">📘 Linkedin</a><a href="//azderica.github.io/til/docs/intro">📚 TIL</a><a href="//github.com/Azderica">💻 GitHub</a><a href="//azderica.github.io/Portfolio/" target="_blank">✨ Portfolio</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2022.
    </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"[Spring] Spring Batch 개념 잡기","path":"\u002F01-spring-batch\u002F","date":"23. February 2022","timeToRead":9,"tags":[{"id":"Spring","title":"Spring","path":"\u002Ftag\u002FSpring\u002F"},{"id":"SpringBoot","title":"SpringBoot","path":"\u002Ftag\u002FSpringBoot\u002F"},{"id":"JPA","title":"JPA","path":"\u002Ftag\u002FJPA\u002F"},{"id":"Spring Batch","title":"Spring Batch","path":"\u002Ftag\u002FSpring%20Batch\u002F"},{"id":"Backend","title":"Backend","path":"\u002Ftag\u002FBackend\u002F"}],"description":"Spring Batch에 대한 기본 개념에 대해 정리합니다.","content":"\u003Ch1 id=\"spring-batch-개념-잡기\"\u003E\u003Ca href=\"#spring-batch-%EA%B0%9C%EB%85%90-%EC%9E%A1%EA%B8%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch 개념 잡기\u003C\u002Fh1\u003E\n\u003Cp\u003E스프링 배치에 대한 기본 개념을 잘 이해하지 못하고 있음을 느껴 이에 따라 정리합니다. 정확히는 Spring Rest API와의 정확한 차이를 모른다는 생각이 들었습니다.\u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"spring-batch란\"\u003E\u003Ca href=\"#spring-batch%EB%9E%80\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch란.\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E배치 프로세싱은 \u003Cstrong\u003E일괄처리\u003C\u002Fstrong\u003E라는 뜻을 가지고 있으며, 일괄처리의 의미는 일련의 작업을 정해진 로직으로 수행하는 것입니다.\u003C\u002Fli\u003E\n\u003Cli\u003E스프링 배치는 \u003Cstrong\u003E로깅\u002F추적, 트랜잭션 관리, 작업 처리 통계, 작업 재시작, 건너뛰기, 리소스 관리 등 대용량 레코드 처리에 필수적인 기능을 제공\u003C\u002Fstrong\u003E합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E최적화 및 파티셔닝 기술을 통해 대용량 및 고성능 배치 작업을 가능하게 하는 고급 기술 서비스 및 기능을 제공합니다.\u003C\u002Fli\u003E\n\u003Cli\u003ESpring Batch에서 배치가 실패하여 작업 재시작을 하게 된다면 처음부터가 아닌 실패한 지점부터 실행을 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E중복 실행을 막기 위해 성공한 이력이 있는 Batch는 동일한 Parameters로 실행 시 Exception이 발생합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"일괄처리가-필요한-경우\"\u003E\u003Ca href=\"#%EC%9D%BC%EA%B4%84%EC%B2%98%EB%A6%AC%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%BD%EC%9A%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E일괄처리가 필요한 경우\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E대용량의 비지니스 데이터를 복잡한 작업으로 처리해야하는 경우\u003C\u002Fli\u003E\n\u003Cli\u003E특정한 시점에 스케줄러를 통해 자동화된 작업이 필요한 경우\u003C\u002Fli\u003E\n\u003Cli\u003E대용량 데이터의 포맷을 변경, 유효성 검사 등의 작업을 트랜잭션 안에서 처리 후 기록해야하는 경우\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"batch-vs-quartz\"\u003E\u003Ca href=\"#batch-vs-quartz\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EBatch VS Quartz\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpring Batch는 Scheduler가 아니기에 비교 대상이 아닙니다.\u003C\u002Fli\u003E\n\u003Cli\u003ESpring Batch는 Batch Job을 관리하지만 Job을 구동하거나 실행시키는 기능은 지원하고 있지 않습니다.\u003C\u002Fli\u003E\n\u003Cli\u003ESpring에서 Batch Job을 실행시키기 위해서는 Quartz, Scheduler, Jenkins 등 전용 Scheduler를 사용하여야 합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fhomoefficio.github.io\u002F2019\u002F09\u002F28\u002FQuartz-%EC%8A%A4%EC%BC%80%EC%A4%84%EB%9F%AC-%EC%A0%81%EC%9A%A9-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-%EA%B0%9C%EC%84%A0-1\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EQuartz Scheduler\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"spring-batch-원칙-및-가이드\"\u003E\u003Ca href=\"#spring-batch-%EC%9B%90%EC%B9%99-%EB%B0%8F-%EA%B0%80%EC%9D%B4%EB%93%9C\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch 원칙 및 가이드\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E배치와 서비스에 영향\u003C\u002Fstrong\u003E을 최소화할 수 있도록 구조와 환경에 맞게 디자인합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E배치 어플리케이션 내에서 가능한한 복잡한 로직은 피하고 \u003Cstrong\u003E단순\u003C\u002Fstrong\u003E하게 설계합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E데이터 처리하는 곳과 데이터의 저장소는 물리적으로 가능한한 가까운 곳에 위치하게 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EI\u002FO 등의 \u003Cstrong\u003E시스템 리소스의 사용을 최소화\u003C\u002Fstrong\u003E하고 최대한 많은 데이터를 메모리 위에서 처리합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E처리 시간이 많이 걸리는 작업을 시작하기 전에 메모리 재할당에 소모되는 시간을 피하기 위해 충분한 메모리를 할당합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E데이터 무결성을 위해서 적절한 \u003Cstrong\u003E검사 및 기록\u003C\u002Fstrong\u003E하는 코드를 추가합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"spring-batch의-3가지-레이어\"\u003E\u003Ca href=\"#spring-batch%EC%9D%98-3%EA%B0%80%EC%A7%80-%EB%A0%88%EC%9D%B4%EC%96%B4\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch의 3가지 레이어\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F155138569-34e5e8e7-d474-47a3-b572-e3cffa7be069.png\" alt=\"Spring-Batch-3가지-레이어\"\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EApplication : 개발자가 작성한 모든 배치 작업과 사용자 정의 코드 포함\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EBatch Core : 배치 작업을 시작하고 제어하는데 필요한 핵심 런타임 클래스 포함\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EJobLauncher, Job, Step\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EBatch Infrastructure : 개발자와 어플리케이션에서 사용하는 일반적인 Reader와 Writer 그리고\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E스프링 배치는 계층 구조가 이와 같이 설계되어 있어 Application 계층에서 비지니스 로직을 집중하고 Batch Core에 있는 클래스들을 이용해 제어할 수 있습니다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"spring-batch-job-구성-및-개념\"\u003E\u003Ca href=\"#spring-batch-job-%EA%B5%AC%EC%84%B1-%EB%B0%8F-%EA%B0%9C%EB%85%90\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch Job 구성 및 개념\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F155139624-20d39950-44c3-4073-acf2-9b0116ee7220.png\" alt=\"spring-job-step\"\u003E\u003C\u002Fp\u003E\n\u003Ch3 id=\"job\"\u003E\u003Ca href=\"#job\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJob\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E배치처리 과정을 하나의 단위로 만들어놓은\u003C\u002Fli\u003E\n\u003Cli\u003E배치처리 과정에 있어 전체 계층 최상단에 위치합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"jobinstance\"\u003E\u003Ca href=\"#jobinstance\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJobInstance\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJob의 실행 단위\u003C\u002Fli\u003E\n\u003Cli\u003E2\u002F23일, 2\u002F24일 실행 시 각각의 JobInstance가 생성됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E앞서 이야기한것 처럼 2\u002F23 실행 실패시 2\u002F23에 대한 데이터만 처리하게 됩니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"jobparameters\"\u003E\u003Ca href=\"#jobparameters\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJobParameters\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJobInstance를 구별할 때 사용합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EString, Double, Long, Date 4가지 형식을 지원합니다,\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"jobexecution\"\u003E\u003Ca href=\"#jobexecution\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJobExecution\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJobInstance에 대한 실행 시도에 대한 객체입니다.\u003C\u002Fli\u003E\n\u003Cli\u003E실패하여 재실행 시킨 경우 동일한 JobInstance이나 2번 실행에 대한 JobExecution은 개별로 생기게 됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003EJobInstanced 실행에 대한 상태, 시작시간, 종료시간, 생성시간 등의 정보를 담습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"step\"\u003E\u003Ca href=\"#step\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EStep\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJob의 배치 처리를 정의하고 순차적인 단계를 캡슐화합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EJob은 최소한 1개 이상의 Step을 가져야 하며 Job의 실제 일괄처리를 제어하는 모든 정보가 들어있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"stepexecution\"\u003E\u003Ca href=\"#stepexecution\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EStepExecution\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EStep 실행 시도에 대한 객체입니다.\u003C\u002Fli\u003E\n\u003Cli\u003E이전 단계의 Step이 실패하면 StepExecution은 생성되지 않습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E실제 시작이 될 때만 생성됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003EStepExecution은 JobExecution에 저장되는 정보 외에 read 수, write 수, commit 수, skip 수 등의 정보들이 저장됩니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"executioncontext\"\u003E\u003Ca href=\"#executioncontext\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EExecutionContext\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJob에서 데이터를 공유 할 수 있는 데이터 저장소\u003C\u002Fli\u003E\n\u003Cli\u003ESpring Batch에서 제공하는 ExecutionContext는 JobExecutionContext, StepExecutionContext 2가지 종류가 있으나 이 두가지는 지정되는 범위가 다릅니다.\u003C\u002Fli\u003E\n\u003Cli\u003EJobExecutionContext의 경우 Commit 시점에 저장되는 반면 StepExecutionContext는 실행 사이에 저장이 되게 됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003EExecutionContext를 통해 Step간 Data 공유가 가능하며 Job 실패시 ExecutionContext를 통한 마지막 실행 값을 재구성할 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"jobrepository\"\u003E\u003Ca href=\"#jobrepository\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJobRepository\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E위의 모든 배치 처리 정보를 담고있는 매커니즘\u003C\u002Fli\u003E\n\u003Cli\u003EJob이 실행되게 되면 JobRepository에 JobExecution과 StepExecution을 생성하게 되며 JobRepository에서 Execution 정보들을 저장하고 조죄하며 사용하게 됩니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"joblauncher\"\u003E\u003Ca href=\"#joblauncher\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EJobLauncher\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EJobLauncher는 Job과 JobParameters를 사용하여 Job을 실행하는 객체입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"itemreader\"\u003E\u003Ca href=\"#itemreader\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EItemReader\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EStep에서 Item을 읽어오는 인터페이스\u003C\u002Fli\u003E\n\u003Cli\u003EItemReader에 대한 다양한 인터페이스가 존재하며 다양한 방법으로 Item을 읽어올 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"itemwriter\"\u003E\u003Ca href=\"#itemwriter\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EItemWriter\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E처리된 Data를 Writer할 때 사용합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E처리 결과물에 따라 Insert, Update, Queue의 Send 등이 될 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E기본적으로 Item을 Chunk로 묶어 처리하고 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"itemprocessor\"\u003E\u003Ca href=\"#itemprocessor\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EItemProcessor\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003EReader에서 읽어온 Item을 데이터 처리하는 역할을 합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EProcessor는 배치를 처리하는데 필수 요소는 아니며 Reader, Writer, Processor 처리를 분리하여 각각의 역할을 명확하게 구분합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"spring-batch-장점\"\u003E\u003Ca href=\"#spring-batch-%EC%9E%A5%EC%A0%90\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Batch 장점\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E유지보수성\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E배치는 다른 어플리케이션의 코드들보다 수명이 깁니다.\u003C\u002Fli\u003E\n\u003Cli\u003E테스트 용이성, 풍부한 API\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E유연성\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EJVM을 이용한 이식성 (기존의 코볼, C++ 등과 비교했을 때)\u003C\u002Fli\u003E\n\u003Cli\u003E코드 공유능력 (POJO 재활용 등)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E확장성\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E과거의 메인프레임 방식이나, 커스텀하게 처리하던 방식은 병렬 처리르 하려면 고려할게 많아 확장성과 안정성이 떨어집니다.\u003C\u002Fli\u003E\n\u003Cli\u003E자바(or 스프링) 배치는 단일 처리, 병력 처리 등이 모두 가능합니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E개발인력\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E자바, 스프링 프레임워크를 기반\u003C\u002Fli\u003E\n\u003Cli\u003E커뮤니티의 강력한 지원\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E비용\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E오픈소스\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"배치-프레임워크-중-스프링-배치를-쓰면-얻는-장점은\"\u003E\u003Ca href=\"#%EB%B0%B0%EC%B9%98-%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC-%EC%A4%91-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B0%B0%EC%B9%98%EB%A5%BC-%EC%93%B0%EB%A9%B4-%EC%96%BB%EB%8A%94-%EC%9E%A5%EC%A0%90%EC%9D%80\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E배치 프레임워크 중 스프링 배치를 쓰면 얻는 장점은?\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003EETL(추출=extract - 변환=transform - 적재=load) 패턴에 적합합니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E청크 기반 처리\u003C\u002Fli\u003E\n\u003Cli\u003E다양한 확장 기능\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E데이터 마이그레이션\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E보통 1회성으로 대충 만들 가능성이 높으나, 스프링 배치를 사용한다면, 풍부한 지원(커밋수, 롤백 등)\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E병렬 처리\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E워크로드 조정\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003ESpring Cloud Data Flow 등을 통해 GUI로 테스크 조정 등\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"마무리\"\u003E\u003Ca href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E마무리.\u003C\u002Fh2\u003E\n\u003Cp\u003ESpring Batch에 대한 예제는 다음 글에서 정리합니다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Cstrong\u003E출처\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fspring-projects\u002Fspring-batch\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ESpring Batch Github Repository\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.fwantastic.com\u002F2019\u002F12\u002Fspring-batch-intro.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EIntro - 스프링 배치 기본 개념 익히기\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.fwantastic.com\u002F2019\u002F12\u002Fspring-batch-1-hello-world.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E스프링 배치 강좌 1. 프로그래밍의 꽃. 스프링 배치 Hello World!\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fkhj93.tistory.com\u002Fentry\u002FSpring-Batch%EB%9E%80-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B3%A0-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ESpring Batch란? 이해하고 사용하기(예제소스 포함)\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fdeeplify.dev\u002Fback-end\u002Fspring\u002Fbatch-tutorial\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003EBatch 소개와 간단한 예제\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fjojoldu.tistory.com\u002F324\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E배치 어플리케이션이란?\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fsjh836.tistory.com\u002F187\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E1장 배치와 스프링\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fsjh836.tistory.com\u002F188?category=680970\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E2장 스프링 배치\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fassets\u002Fstatic\u002FSpringLogo.214a68b.be0c3d9590430504675b948223711f21.png","size":{"width":820,"height":442},"sizes":"(max-width: 820px) 100vw, 820px","srcset":["\u002Fassets\u002Fstatic\u002FSpringLogo.a67b0b2.be0c3d9590430504675b948223711f21.png 480w","\u002Fassets\u002Fstatic\u002FSpringLogo.214a68b.be0c3d9590430504675b948223711f21.png 820w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 820 442' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-29f2605aef896f90944d207b9d4e9d4c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-29f2605aef896f90944d207b9d4e9d4c)' width='820' height='442' xlink:href='data:image\u002Fpng%3bbase64%2c\u002F9j\u002F2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj\u002F2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj\u002FwAARCAAiAEADASIAAhEBAxEB\u002F8QAGwABAAMBAAMAAAAAAAAAAAAAAAQFBgMCBwj\u002FxAAqEAABAwQBAgUEAwAAAAAAAAABAgMEAAURIRIGMRNBUWGBFBUiMgdxof\u002FEABgBAQADAQAAAAAAAAAAAAAAAAACAwQB\u002F8QAIxEAAgICAgIBBQAAAAAAAAAAAAECEQMhEjEEQVEiYZGx4f\u002FaAAwDAQACEQMRAD8A%2bnaUpQCs51b1SxYEobS348xwckt5wEj1Ua0dYx2BBX\u002FIEt%2b9lrwRGQ7HD5AQcYB76OPT3rN5U5xglj026v4Ksrkl9Psr7H17OnXFqO5bUPpcVjEbPJPvvR\u002FyvYDKy42FKTxVsFOc4I0RUWNLiuZFrZQhgDLkkN8G0pHocDkf60PWu8RYdbU6j9HFqWj3STo\u002FPf5rnjKcVU58hiUlpys7UpStRaKgXi5t2xplS21uuPuBpptBAKlEZ7kgDt51PqtvsF6fFS019ItPLK2pTXNCx8HII9RUMnLi%2bPZGV1oiOdRcJLMUWueZjrRdSxxSDpWDk5wB557VW3i%2b225Qm4cmBOedfWtox2xxdQ4jB4nfuDntquMKx3W3XmMIbyCW4jmVuNqUz%2bTmfCG8gAdt51VjbunXo90jXCRKQ7IDjzr5CMBSlpCQE%2bgAFYrz5Fxa%2bzuutfn2UXkkqKCNHs0e4JaMS7T5AeW0mO66Fp5oSFdsgY3561WjR1RHcaaSxDluTXHVsiGEgOJUj9snOABkbrxidPusX77gZCCj6h57gEnOFpSAPjFV1ytUy1z\u002FALjBDj0lUp50eGyXEhtYT%2bK0gg%2bXcVGMcuFNxVK\u002Fhda3%2bziU4LSNDaLu3c3pbSWH2HYqkpcS8ACCRnGjVlWd6Rjzg9c51yQpDkt1JSlaOBwlOM8cnA9Ad6rRVtwSlKCcu\u002F7ovxtuNsUpSrSYpSlAKUpQClKUB\u002F\u002FZ' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.8989048c.js" defer></script><script src="/assets/js/page--src--templates--post-vue.db0b3320.js" defer></script>
  </body>
</html>
