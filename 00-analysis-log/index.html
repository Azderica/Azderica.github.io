<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>[Server] 로그 분석 방법 - Azderica</title><meta name="gridsome:hash" content="40cbc053d2b1d239e475a5f7164f96d1d94c070f"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="부족하지만 꿈많은 웹 개발자의 발전 기록입니다."><meta data-vue-tag="ssr" name="description" content="리눅스 서버와 윈도우 서버 로그 분석 방법에 대해 정리합니다."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.d0be325ebfe2762f973f3e0685345394.png"><link rel="preload" href="/assets/css/0.styles.d85dbe6f.css" as="style"><link rel="preload" href="/assets/js/app.7be7f02d.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.f9977a28.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.e05d67c3.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.d32f3f8d.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.01058a00.js"><link rel="stylesheet" href="/assets/css/0.styles.d85dbe6f.css"><script data-vue-tag="ssr" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <script
      data-ad-client="ca-pub-1759762070891290"
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="shortcut icon" type="image/png" href="favicon.png" />
    <meta
      name="google-site-verification"
      content="MqpGCz7XVg4s3AWfrGHCt6AlXPacpV9iGvSFVD0ATHw"
    />
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      ;(function() {
        window.__onThemeChange = function() {}
        function setTheme(newTheme) {
          window.__theme = newTheme
          preferredTheme = newTheme
          document.body.setAttribute('data-theme', newTheme)
          window.__onThemeChange(newTheme)
        }

        var preferredTheme
        try {
          preferredTheme = localStorage.getItem('theme')
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme)
          try {
            localStorage.setItem('theme', newTheme)
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        })

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
      })()
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    ← Azderica
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      [Server] 로그 분석 방법
    </h1><div class="post-meta">
   Posted 4. April 2021.
   <strong>5 min read.</strong></div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 828 465' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e78ac15631280db1155d861b4e07ac21'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e78ac15631280db1155d861b4e07ac21)' width='828' height='465' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAAC20lEQVRo3u2X%2bU9TQRDH%2b4tHQaBaiBKj4hnUBE0gpLQURBS5bft6QAsFymE5WlsOAYm0HIKVy0iiWDXRHzDxN//DrztTXm0qCYltFOL%2bMHnzdnanO5%2bdmX3VnKnrxP8sGglAApAAJAAJQAKQACQACUACkAAkgD%2bV0/c69tUPsqfrB/k5lADUjepqXUldf98tJGGjZ6F4L6hx/RYUzdPVduzNcyf90Viqb9WWqmcLUFYygII/%2b7CLN0cb01bZkGNU%2bD3HpOC4wYrLbf1JKDQ/z%2bzgebSOfJwUOgVOa2iMoYjxPLMTJ8R6mpNfk9Dzxdh%2bWfPXAagnpzXaMLP9BfXDcxyIsW8KFV1hMa7A0DOJOx0BuJ%2bv8ViuyY7iR16U2vw8Xukdxy37CNvIV0mrDy1PFzhYkmuPB1E3NMvASlr7Ue%2bfw5X2AYb4TzPgV/AKyrtCGFh8C9dMDGWugIDxFbbJFXjnN9EWWkRf9A0iO7v8ftsxCuvES4zFdjC4tI3mYBQjq%2b8QeP0BF5v7cKnFx/ZjlRZcaOpF94sNNAWicEy/glMI%2bZ3Y%2bsyZUJiFcsgoAyilKcVD63EOkjZGT0PvJK62D2Ih/o1PmCBs7f7AdcsQ5gWIxrEIqsSc0dh7BkF20k0icyg7CBSVwd3OIAO4qQzzPMv4MkoVP2YF4KIHnqz0gYxLoKjeg3JPiFP0XEM3TL5nnKJ0kjesT8TpRaBMrcI8MM01HVyL43xjD6c/nXSZeFaIDFKmVngN%2bSSdIBh6Jti3Z26dffeLLFv%2b9B3hjY/cU7JRBppMuz89T1U7ODid0KnGC8TGEo3Oyc2Q%2bgJJcYOXoVBtcxMUNlpLQn1EvSm0e/NpDtlUnUC1h5c4S9TfzLQRarJxBerTyiL9qlOFAKkdnNZQDetTdHUN6fvZcqvte7eFKxn8kfkSzPQjJ/Wb4tB9B8j/AhKABCABSAASgAQgAUgAEoAEIAEcNfkJ0x04Oxa70FkAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="828" data-src="/assets/static/AnalysisLogText.0c67281.20954eb0ffad14511ba04b5c8f37a086.png" data-srcset="/assets/static/AnalysisLogText.a67b0b2.20954eb0ffad14511ba04b5c8f37a086.png 480w, /assets/static/AnalysisLogText.0c67281.20954eb0ffad14511ba04b5c8f37a086.png 828w" data-sizes="(max-width: 828px) 100vw, 828px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/AnalysisLogText.0c67281.20954eb0ffad14511ba04b5c8f37a086.png" class="g-image g-image--loaded" width="828" alt="Cover image"></noscript></div><div class="post__content"><h1 id="서버-로그-분석"><a href="#%EC%84%9C%EB%B2%84-%EB%A1%9C%EA%B7%B8-%EB%B6%84%EC%84%9D" aria-hidden="true"><span class="icon icon-link"></span></a>서버 로그 분석</h1>
<p>서비스 개발을 하다보면, 장애나 이슈가 발생할 수도 있고 또한 허용되지 않은 사용자가 접근할 수도 있습니다. 이때 보통 서버의 로그를 분석하는 경우가 있는데 이에 대해 정리합니다.</p>
<p>해당 게시글에서는 리눅스 서버와 윈도우 서버에 대해 정리합니다.</p>
<br/>
<h2 id="linux-서버"><a href="#linux-%EC%84%9C%EB%B2%84" aria-hidden="true"><span class="icon icon-link"></span></a>Linux 서버</h2>
<p>일반적으로 Linux / Unix 기반의 대부분 서버의 로그 파일은 "/var/log"에 저장됩니다. 대부분이 text 방식으로 저장되며 <code class="language-text">*.log</code>의 형식을 지니고 있습니다.</p>
<p>일반적으로 <code class="language-text">cat</code>, <code class="language-text">less</code> 명령어를 사용해서 확인하고, <code class="language-text">*.gz</code> 파일의 경우는 <code class="language-text">zcat</code>을 통해서 압축을 풀지않고 확인할 수 있습니다. 텍스트 형식이 아닌 log 파일 들은 특정 명령어를 사용해서 확인해야합니다.</p>
<h3 id="linux-log-file"><a href="#linux-log-file" aria-hidden="true"><span class="icon icon-link"></span></a>Linux Log File</h3>
<p>핵심 로그파일은 다음과 같습니다.</p>
<table>
<thead>
<tr>
<th>로그이름</th>
<th>로그 파일명</th>
<th>설명</th>
<th>관련 데몬</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>커널 log</strong></td>
<td><code class="language-text">/dev/console</code></td>
<td>콘솔에 뿌려지는 로그</td>
<td>kernel</td>
</tr>
<tr>
<td><strong>시스템 log</strong></td>
<td><code class="language-text">/var/log/messages</code></td>
<td>리눅스 커널로그 및 주 로그</td>
<td>sysload</td>
</tr>
<tr>
<td>보안 log</td>
<td><code class="language-text">/var/log/secure</code></td>
<td>보안 인증 관련 로그</td>
<td>xinetd</td>
</tr>
<tr>
<td>메일 log</td>
<td><code class="language-text">/var/log/maillog</code></td>
<td>메일 로그</td>
<td>sendmail popper</td>
</tr>
<tr>
<td>크론 log</td>
<td><code class="language-text">/var/log/cron</code></td>
<td>crond에 의한 로그</td>
<td>crond</td>
</tr>
<tr>
<td>부팅 log</td>
<td><code class="language-text">/var/log/boot.log</code></td>
<td>시스템 부팅시의 로그</td>
<td>kernel</td>
</tr>
<tr>
<td>커널 부트 메시지 log</td>
<td><code class="language-text">/var/dmesg</code></td>
<td>부팅될 당시의 각종 메시지들 저장</td>
<td>kernel</td>
</tr>
<tr>
<td>커널 log</td>
<td><code class="language-text">/var/log/wtmp</code></td>
<td>시스템 전체 로그인 기록 저장</td>
<td>kernel</td>
</tr>
<tr>
<td>커널 log</td>
<td><code class="language-text">/var/log/utmp</code></td>
<td>현재 로그인 사용자에 대한 기록, 사용자 ip를 저장</td>
<td>kernel</td>
</tr>
<tr>
<td>FTP log</td>
<td><code class="language-text">/var/log/xferlog</code></td>
<td>ftp 로그</td>
<td>ftp</td>
</tr>
<tr>
<td><strong>웹 log</strong></td>
<td><code class="language-text">/var/log/httpd/access_log</code></td>
<td>아파치(웹서버) 로그 저장</td>
<td>httpd</td>
</tr>
<tr>
<td>웹 log</td>
<td><code class="language-text">/var/log/httpd/error_log</code></td>
<td>아파치(웹서버) 에러 저장</td>
<td>httpd</td>
</tr>
<tr>
<td>네임서버 log</td>
<td><code class="language-text">/var/log/named.log</code></td>
<td>네임서버( 로그</td>
<td>name</td>
</tr>
</tbody>
</table>
<p>이 중 핵심적인 로그를 더 자세하게 보면 다음과 같습니다.</p>
<h3 id="콘솔-로그-devconsole"><a href="#%EC%BD%98%EC%86%94-%EB%A1%9C%EA%B7%B8-devconsole" aria-hidden="true"><span class="icon icon-link"></span></a>콘솔 로그 (/dev/console)</h3>
<ul>
<li>커널에 관련된 내용을 시스템 콘솔에 뿌려주는 로그입니다.</li>
<li>messages 내용과 일치하는 것은 아니지만 <strong>시스템에 관련된 중요한 내용</strong>(시스템 풀, 다운 등)에 대한 로그를 확인할 수 있습니다.</li>
<li>/dev/console을 통해서 콘솔로 로그를 뿌려줍니다.</li>
</ul>
<h3 id="시스템-로그-varlogmessages"><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8-varlogmessages" aria-hidden="true"><span class="icon icon-link"></span></a>시스템 로그 (/var/log/messages)</h3>
<ul>
<li>접속 시 인증에 대한 것, 메일에 관한 내용, 시스템에 관한 변경사항 등인 시스템에 대한 전반적인 로그를 기록합니다.</li>
<li>시스템 관리자가 가장 신경써야하는 로그 파일이며, 보안사고 발생 시 가장 먼저 분석하는 파일입니다.</li>
<li>su(root 권한)에 대한 실패 로그와, 데몬 비활성 로그, 부팅 실패 로그와 같이 다양한 로그들이 필요합니다.</li>
<li><code class="language-text">dmesg</code>를 사용하면 명령어를 확인할 수 있습니다.</li>
</ul>
<h3 id="보안-로그-varlogsecure"><a href="#%EB%B3%B4%EC%95%88-%EB%A1%9C%EA%B7%B8-varlogsecure" aria-hidden="true"><span class="icon icon-link"></span></a>보안 로그 (/var/log/secure)</h3>
<ul>
<li>모든 접속과 관련하여 언제 어디서 어떤 서비스를 사용했는지 기록합니다.</li>
<li>login, tcp_wrappers, xinetd 관련 로그들이 남습니다.</li>
</ul>
<br/>
<h2 id="window-서버"><a href="#window-%EC%84%9C%EB%B2%84" aria-hidden="true"><span class="icon icon-link"></span></a>Window 서버</h2>
<p>일반적으로 윈도우 서버는 IIS 서버로 돌아가고, 많은 회사들이 리눅스 서버를 사용하지만 가끔 사용하는 서버가 있어서 이에 대해서 정리합니다. (그 예외에 속하는 회사이지만...)</p>
<p>IIS 서버에 접속하는 방법은 다음과 같습니다.</p>
<ul>
<li><code class="language-text">제어판</code> => <code class="language-text">관리도구</code> => <code class="language-text">이벤트뷰어</code></li>
</ul>
<p>해당 이벤트 로그에 접속하여서, <strong>Windows 로그</strong> 중 중요한 것은 다음과 같습니다.</p>
<h3 id="응용프로그램-로그"><a href="#%EC%9D%91%EC%9A%A9%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EB%A1%9C%EA%B7%B8" aria-hidden="true"><span class="icon icon-link"></span></a>응용프로그램 로그</h3>
<ul>
<li>응용프로그램 구동 중 특이사항이 발생될 때 저장되는 로그입니다.</li>
</ul>
<h3 id="보안-로그"><a href="#%EB%B3%B4%EC%95%88-%EB%A1%9C%EA%B7%B8" aria-hidden="true"><span class="icon icon-link"></span></a>보안 로그</h3>
<ul>
<li>윈도우 보안과 관련된 정보들이 저장되는 로그입니다.</li>
<li>사용자가 지정한 특정 작업을 수행할 때, 항목이 기록됩니다.</li>
<li>성공한 작업과 실패한 작업을 모두 감사합니다.</li>
<li>다른 로그와 다르게 보안 로그는 감사정책이 설정되어야만 기록이 됩니다.</li>
</ul>
<h3 id="시스템-로그"><a href="#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8" aria-hidden="true"><span class="icon icon-link"></span></a>시스템 로그</h3>
<ul>
<li>윈도우 시스템을 구동하거나 운영하면서 발생된 충돌이나 에러 등이 저장되는 로그입니다.</li>
</ul>
<br/>
<h2 id="마무리"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>마무리</h2>
<p>간단하게 로그 파일을 정리했습니다. 좀 더 자세하게 보기위해서는 아래의 출처를 참고하면 좋을 듯합니다.</p>
<hr>
<p><strong>출처</strong></p>
<ul>
<li><a href="https://blog.naver.com/PostView.nhn?blogId=kdi0373&#x26;logNo=220522832069" target="_blank" rel="nofollow noopener noreferrer">리눅스 로그파일 종류 및 분석</a></li>
<li><a href="https://blog.naver.com/kdi0373/220524577856" target="_blank" rel="nofollow noopener noreferrer">윈도우 로그파일 종류 및 분석</a></li>
</ul>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/Server/" class="post-tags__link"><span>#</span> Server
		</a><a href="/tag/Log/" class="post-tags__link"><span>#</span> Log
		</a><a href="/tag/Analysis/" class="post-tags__link"><span>#</span> Analysis
		</a><a href="/tag/Linux/" class="post-tags__link"><span>#</span> Linux
		</a><a href="/tag/Other/" class="post-tags__link"><span>#</span> Other
		</a></div></div></div><div class="post-comments" style="display:none;"></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgEDBAcIBQIA/8QAMBAAAQMDAgQFAwQDAQAAAAAAAQIDBAAFERIhBhMxUQciQWFxFJGhFiMygRVCsdH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgMABP/EACARAAICAgICAwAAAAAAAAAAAAECABEDEiExBCITQUL/2gAMAwEAAhEDEQA/ALKr4mmyo5pdVPJXFNIakR4ynUlaspbAznHX4qp/EzxOTw9LctVnQ07cEpBW%2b4QW2sjYY9VfOMe9LuLqNowFyzx0pDWTX%2bM%2bIZMovOcQT9ZUFYbdKQD8DbHxWg/Cy7XriC0xZl%2bTEYiyBy4i06ua%2bpOcqV/qAcHHqaBcDuMqMxoQtNeTUiayGVJKM6TsQeqVDqKjUVYMLEzKVNGeiupMCOZTnZtP8jTcSGp/C3Mpa/JqJfLythf0VrbQp0DzFX8UDuankyfle4%2bLFfs/AnL4x42t9puRgPsZitMuPPSCSSjSkkBCR1Vt%2bM1Stv8ADfibjGQ5f5S4Mf6xfNCJWvUpJ6FSUjbbHrmrNn8PNTo036xXOkymy2VgYCQrY4HxtRBw5DegyHhHhpiAq0lZeLnNGNlHI2PpjeoHbH33Oz0zGh0JRvF/hfxBbYvPiRbc4003%2b43BdcKlnfK9Lm5PsD0HSjjwB46uHEN/uFivKkGN9Ml2KylGAyWyElI7DGDjvRRf1SHJMlEh66ocLepK2NJYwTgJ0k5J37dM71WEaR%2bkfEW0Xvkqw4tUeWllJ8yVDBUB3Gx/qtvtw0Pw6cpNFXZCkMuDqcZz8Vy0kFIPcV3w7HutuS7GcS4hadSVJ6GhoL5bqmVbLRtg0%2bA0SJDyFNAx%2b/XUsIDMfd1Ww/8Aa4DCNIJJJKjlSj1Ue9DDvHvDqOfImXNlK9ZSkDKjgdgM1HV4l8MJjB4zHic45YYUV/bpj%2b6piUKLPcjmcsaHUN0Hzox1yK6z85wJy0yXloQf2kKAVn060B/rOxC1xLg7cEMsSgS0Fg6zg4PlGTsaM7KLbxxZ2btZ5KCtOWXkLRgpUOpwfQ7GtlTeiJTxMioSH6ntcpSLQtU1gIcGdshRx6Zx61XCoKLnci88hTSUkltWN09Onuf%2bVYlybs/DlsU2FtyX86iEKyhJ7k%2bp9qDVXBMyQ64CnmZBWkHdORtkfGKgMPNMZ0t5OtsghxwI%2bhhKoKAEtgakJAwB3p/iqERiUyPOnc49aGLDK5FxYWFY82D8GrGdQmRG3wQRRcatxJo26%2b0wVpK0kDb4pWm3HGwlIyoq0bd6QOBCCTXbtLIMaK6oDSnU8fk9KuBc4pDlQzGmuac%2bVsKH23/Io/8ADriViySXY90b5lskJAdSUatB9FY6/b27UKzG%2bdIQsbamSPuRXp0aClY9Nj8U2sIYjmWNfeIOHks86LeA7g4RFRGWgJHck7mq2uV0luXQ3GO%2b8zLkrAy2op0J7bewFNTUnWgBX8t6bbwJaUkbcsn8ikCAG5R8zMoX6EIovGd8YkM65ijo3xoTggeh23PvWrrFLTMtzLqCClxtK0/BGaxo6%2bhSlKO2lRT8d60t4MXX/IcFW4knWyDHUD1Gk4H4xSZR0Y%2bA8kT/2Q==' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" data-srcset="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">To be a Pro in Web developer</p><p class="author__links"><a href="//linkedin.com/in/myeonghun-park-7693a1184/">📘 Linkedin</a><a href="//azderica.github.io/til/docs/intro">📚 TIL</a><a href="//github.com/Azderica">💻 GitHub</a><a href="//azderica.github.io/Portfolio/" target="_blank">✨ Portfolio</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2022.
    </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div> <script>window.__INITIAL_STATE__={"data":{"post":{"title":"[Server] 로그 분석 방법","path":"\u002F00-analysis-log\u002F","date":"4. April 2021","timeToRead":5,"tags":[{"id":"Server","title":"Server","path":"\u002Ftag\u002FServer\u002F"},{"id":"Log","title":"Log","path":"\u002Ftag\u002FLog\u002F"},{"id":"Analysis","title":"Analysis","path":"\u002Ftag\u002FAnalysis\u002F"},{"id":"Linux","title":"Linux","path":"\u002Ftag\u002FLinux\u002F"},{"id":"Other","title":"Other","path":"\u002Ftag\u002FOther\u002F"}],"description":"리눅스 서버와 윈도우 서버 로그 분석 방법에 대해 정리합니다.","content":"\u003Ch1 id=\"서버-로그-분석\"\u003E\u003Ca href=\"#%EC%84%9C%EB%B2%84-%EB%A1%9C%EA%B7%B8-%EB%B6%84%EC%84%9D\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E서버 로그 분석\u003C\u002Fh1\u003E\n\u003Cp\u003E서비스 개발을 하다보면, 장애나 이슈가 발생할 수도 있고 또한 허용되지 않은 사용자가 접근할 수도 있습니다. 이때 보통 서버의 로그를 분석하는 경우가 있는데 이에 대해 정리합니다.\u003C\u002Fp\u003E\n\u003Cp\u003E해당 게시글에서는 리눅스 서버와 윈도우 서버에 대해 정리합니다.\u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"linux-서버\"\u003E\u003Ca href=\"#linux-%EC%84%9C%EB%B2%84\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ELinux 서버\u003C\u002Fh2\u003E\n\u003Cp\u003E일반적으로 Linux \u002F Unix 기반의 대부분 서버의 로그 파일은 \"\u002Fvar\u002Flog\"에 저장됩니다. 대부분이 text 방식으로 저장되며 \u003Ccode class=\"language-text\"\u003E*.log\u003C\u002Fcode\u003E의 형식을 지니고 있습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E일반적으로 \u003Ccode class=\"language-text\"\u003Ecat\u003C\u002Fcode\u003E, \u003Ccode class=\"language-text\"\u003Eless\u003C\u002Fcode\u003E 명령어를 사용해서 확인하고, \u003Ccode class=\"language-text\"\u003E*.gz\u003C\u002Fcode\u003E 파일의 경우는 \u003Ccode class=\"language-text\"\u003Ezcat\u003C\u002Fcode\u003E을 통해서 압축을 풀지않고 확인할 수 있습니다. 텍스트 형식이 아닌 log 파일 들은 특정 명령어를 사용해서 확인해야합니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"linux-log-file\"\u003E\u003Ca href=\"#linux-log-file\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ELinux Log File\u003C\u002Fh3\u003E\n\u003Cp\u003E핵심 로그파일은 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003E로그이름\u003C\u002Fth\u003E\n\u003Cth\u003E로그 파일명\u003C\u002Fth\u003E\n\u003Cth\u003E설명\u003C\u002Fth\u003E\n\u003Cth\u003E관련 데몬\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cstrong\u003E커널 log\u003C\u002Fstrong\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fdev\u002Fconsole\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E콘솔에 뿌려지는 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Ekernel\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cstrong\u003E시스템 log\u003C\u002Fstrong\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fmessages\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E리눅스 커널로그 및 주 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Esysload\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E보안 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fsecure\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E보안 인증 관련 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Exinetd\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E메일 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fmaillog\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E메일 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Esendmail popper\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E크론 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fcron\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003Ecrond에 의한 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Ecrond\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E부팅 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fboot.log\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E시스템 부팅시의 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Ekernel\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E커널 부트 메시지 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Fdmesg\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E부팅될 당시의 각종 메시지들 저장\u003C\u002Ftd\u003E\n\u003Ctd\u003Ekernel\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E커널 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fwtmp\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E시스템 전체 로그인 기록 저장\u003C\u002Ftd\u003E\n\u003Ctd\u003Ekernel\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E커널 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Futmp\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E현재 로그인 사용자에 대한 기록, 사용자 ip를 저장\u003C\u002Ftd\u003E\n\u003Ctd\u003Ekernel\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EFTP log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fxferlog\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003Eftp 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Eftp\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cstrong\u003E웹 log\u003C\u002Fstrong\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fhttpd\u002Faccess_log\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E아파치(웹서버) 로그 저장\u003C\u002Ftd\u003E\n\u003Ctd\u003Ehttpd\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E웹 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fhttpd\u002Ferror_log\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E아파치(웹서버) 에러 저장\u003C\u002Ftd\u003E\n\u003Ctd\u003Ehttpd\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E네임서버 log\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode class=\"language-text\"\u003E\u002Fvar\u002Flog\u002Fnamed.log\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E네임서버( 로그\u003C\u002Ftd\u003E\n\u003Ctd\u003Ename\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003E이 중 핵심적인 로그를 더 자세하게 보면 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"콘솔-로그-devconsole\"\u003E\u003Ca href=\"#%EC%BD%98%EC%86%94-%EB%A1%9C%EA%B7%B8-devconsole\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E콘솔 로그 (\u002Fdev\u002Fconsole)\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E커널에 관련된 내용을 시스템 콘솔에 뿌려주는 로그입니다.\u003C\u002Fli\u003E\n\u003Cli\u003Emessages 내용과 일치하는 것은 아니지만 \u003Cstrong\u003E시스템에 관련된 중요한 내용\u003C\u002Fstrong\u003E(시스템 풀, 다운 등)에 대한 로그를 확인할 수 있습니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u002Fdev\u002Fconsole을 통해서 콘솔로 로그를 뿌려줍니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"시스템-로그-varlogmessages\"\u003E\u003Ca href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8-varlogmessages\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E시스템 로그 (\u002Fvar\u002Flog\u002Fmessages)\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E접속 시 인증에 대한 것, 메일에 관한 내용, 시스템에 관한 변경사항 등인 시스템에 대한 전반적인 로그를 기록합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E시스템 관리자가 가장 신경써야하는 로그 파일이며, 보안사고 발생 시 가장 먼저 분석하는 파일입니다.\u003C\u002Fli\u003E\n\u003Cli\u003Esu(root 권한)에 대한 실패 로그와, 데몬 비활성 로그, 부팅 실패 로그와 같이 다양한 로그들이 필요합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003Edmesg\u003C\u002Fcode\u003E를 사용하면 명령어를 확인할 수 있습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"보안-로그-varlogsecure\"\u003E\u003Ca href=\"#%EB%B3%B4%EC%95%88-%EB%A1%9C%EA%B7%B8-varlogsecure\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E보안 로그 (\u002Fvar\u002Flog\u002Fsecure)\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E모든 접속과 관련하여 언제 어디서 어떤 서비스를 사용했는지 기록합니다.\u003C\u002Fli\u003E\n\u003Cli\u003Elogin, tcp_wrappers, xinetd 관련 로그들이 남습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"window-서버\"\u003E\u003Ca href=\"#window-%EC%84%9C%EB%B2%84\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EWindow 서버\u003C\u002Fh2\u003E\n\u003Cp\u003E일반적으로 윈도우 서버는 IIS 서버로 돌아가고, 많은 회사들이 리눅스 서버를 사용하지만 가끔 사용하는 서버가 있어서 이에 대해서 정리합니다. (그 예외에 속하는 회사이지만...)\u003C\u002Fp\u003E\n\u003Cp\u003EIIS 서버에 접속하는 방법은 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode class=\"language-text\"\u003E제어판\u003C\u002Fcode\u003E =\u003E \u003Ccode class=\"language-text\"\u003E관리도구\u003C\u002Fcode\u003E =\u003E \u003Ccode class=\"language-text\"\u003E이벤트뷰어\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E해당 이벤트 로그에 접속하여서, \u003Cstrong\u003EWindows 로그\u003C\u002Fstrong\u003E 중 중요한 것은 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"응용프로그램-로그\"\u003E\u003Ca href=\"#%EC%9D%91%EC%9A%A9%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EB%A1%9C%EA%B7%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E응용프로그램 로그\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E응용프로그램 구동 중 특이사항이 발생될 때 저장되는 로그입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"보안-로그\"\u003E\u003Ca href=\"#%EB%B3%B4%EC%95%88-%EB%A1%9C%EA%B7%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E보안 로그\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E윈도우 보안과 관련된 정보들이 저장되는 로그입니다.\u003C\u002Fli\u003E\n\u003Cli\u003E사용자가 지정한 특정 작업을 수행할 때, 항목이 기록됩니다.\u003C\u002Fli\u003E\n\u003Cli\u003E성공한 작업과 실패한 작업을 모두 감사합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E다른 로그와 다르게 보안 로그는 감사정책이 설정되어야만 기록이 됩니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"시스템-로그\"\u003E\u003Ca href=\"#%EC%8B%9C%EC%8A%A4%ED%85%9C-%EB%A1%9C%EA%B7%B8\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E시스템 로그\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E윈도우 시스템을 구동하거나 운영하면서 발생된 충돌이나 에러 등이 저장되는 로그입니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"마무리\"\u003E\u003Ca href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E마무리\u003C\u002Fh2\u003E\n\u003Cp\u003E간단하게 로그 파일을 정리했습니다. 좀 더 자세하게 보기위해서는 아래의 출처를 참고하면 좋을 듯합니다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Cstrong\u003E출처\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fblog.naver.com\u002FPostView.nhn?blogId=kdi0373&#x26;logNo=220522832069\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E리눅스 로그파일 종류 및 분석\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fblog.naver.com\u002Fkdi0373\u002F220524577856\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003E윈도우 로그파일 종류 및 분석\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fassets\u002Fstatic\u002FAnalysisLogText.0c67281.20954eb0ffad14511ba04b5c8f37a086.png","size":{"width":828,"height":465},"sizes":"(max-width: 828px) 100vw, 828px","srcset":["\u002Fassets\u002Fstatic\u002FAnalysisLogText.a67b0b2.20954eb0ffad14511ba04b5c8f37a086.png 480w","\u002Fassets\u002Fstatic\u002FAnalysisLogText.0c67281.20954eb0ffad14511ba04b5c8f37a086.png 828w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 828 465' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-e78ac15631280db1155d861b4e07ac21'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-e78ac15631280db1155d861b4e07ac21)' width='828' height='465' xlink:href='data:image\u002Fpng%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAYAAAA5DDySAAAACXBIWXMAAAsSAAALEgHS3X78AAAC20lEQVRo3u2X%2bU9TQRDH%2b4tHQaBaiBKj4hnUBE0gpLQURBS5bft6QAsFymE5WlsOAYm0HIKVy0iiWDXRHzDxN\u002F\u002FDrztTXm0qCYltFOL%2bMHnzdnanO5%2bdmX3VnKnrxP8sGglAApAAJAAJQAKQACQACUACkAAkgD%2bV0\u002Fc69tUPsqfrB\u002Fk5lADUjepqXUldf98tJGGjZ6F4L6hx\u002FRYUzdPVduzNcyf90Viqb9WWqmcLUFYygII\u002F%2b7CLN0cb01bZkGNU%2bD3HpOC4wYrLbf1JKDQ\u002Fz%2bzgebSOfJwUOgVOa2iMoYjxPLMTJ8R6mpNfk9Dzxdh%2bWfPXAagnpzXaMLP9BfXDcxyIsW8KFV1hMa7A0DOJOx0BuJ%2bv8ViuyY7iR16U2vw8Xukdxy37CNvIV0mrDy1PFzhYkmuPB1E3NMvASlr7Ue%2bfw5X2AYb4TzPgV\u002FAKyrtCGFh8C9dMDGWugIDxFbbJFXjnN9EWWkRf9A0iO7v8ftsxCuvES4zFdjC4tI3mYBQjq%2b8QeP0BF5v7cKnFx\u002FZjlRZcaOpF94sNNAWicEy\u002FglMI%2bZ3Y%2bsyZUJiFcsgoAyilKcVD63EOkjZGT0PvJK62D2Ih\u002Fo1PmCBs7f7AdcsQ5gWIxrEIqsSc0dh7BkF20k0icyg7CBSVwd3OIAO4qQzzPMv4MkoVP2YF4KIHnqz0gYxLoKjeg3JPiFP0XEM3TL5nnKJ0kjesT8TpRaBMrcI8MM01HVyL43xjD6c\u002FnXSZeFaIDFKmVngN%2bSSdIBh6Jti3Z26dffeLLFv%2b9B3hjY\u002FcU7JRBppMuz89T1U7ODid0KnGC8TGEo3Oyc2Q%2bgJJcYOXoVBtcxMUNlpLQn1EvSm0e\u002FNpDtlUnUC1h5c4S9TfzLQRarJxBerTyiL9qlOFAKkdnNZQDetTdHUN6fvZcqvte7eFKxn8kfkSzPQjJ\u002FWb4tB9B8j\u002FAhKABCABSAASgAQgAUgAEoAEIAEcNfkJ0x04Oxa70FkAAAAASUVORK5CYII=' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.7be7f02d.js" defer></script><script src="/assets/js/page--src--templates--post-vue.f9977a28.js" defer></script>
  </body>
</html>
