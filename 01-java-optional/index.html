<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>[Java] Java Optional 2 - Azderica</title><meta name="gridsome:hash" content="c252e7650a6691103be74bcadb51dd243a8d98c2"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="ë¶€ì¡±í•˜ì§€ë§Œ ê¿ˆë§ì€ ì›¹ ê°œë°œìì˜ ë°œì „ ê¸°ë¡ì…ë‹ˆë‹¤."><meta data-vue-tag="ssr" name="description" content="Java Optional ì„ ì¢€ ë” ì˜ ì‚¬ìš©í•˜ê¸°"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.d0be325ebfe2762f973f3e0685345394.png"><link rel="preload" href="/assets/css/0.styles.7a8bb02e.css" as="style"><link rel="preload" href="/assets/js/app.2e146938.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.57b1d0b4.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.e05d67c3.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.d32f3f8d.js"><link rel="prefetch" href="/assets/js/page--src--templates--tag-vue.01058a00.js"><link rel="stylesheet" href="/assets/css/0.styles.7a8bb02e.css"><script data-vue-tag="ssr" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
    <script
      data-ad-client="ca-pub-1759762070891290"
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="shortcut icon" type="image/png" href="favicon.png" />
    <meta
      name="google-site-verification"
      content="MqpGCz7XVg4s3AWfrGHCt6AlXPacpV9iGvSFVD0ATHw"
    />
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      ;(function() {
        window.__onThemeChange = function() {}
        function setTheme(newTheme) {
          window.__theme = newTheme
          preferredTheme = newTheme
          document.body.setAttribute('data-theme', newTheme)
          window.__onThemeChange(newTheme)
        }

        var preferredTheme
        try {
          preferredTheme = localStorage.getItem('theme')
        } catch (err) {}

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme)
          try {
            localStorage.setItem('theme', newTheme)
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        })

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
      })()
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/" class="logo active"><span class="logo__text">
    â† Azderica
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      [Java] Java Optional 2
    </h1><div class="post-meta">
   Posted 17. December 2020.
   <strong>7 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><h1 id="java-optional-í™œìš©-í¸"><a href="#java-optional-%ED%99%9C%EC%9A%A9-%ED%8E%B8" aria-hidden="true"><span class="icon icon-link"></span></a>Java Optional í™œìš© í¸</h1>
<p>ì§€ë‚œ ì‹œê°„ì— ìë°” Optionalì— ëŒ€í•´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ìë°” Streamì´ë‚˜ Lambdaì— ëŒ€í•´ì„œë„ ì´ì•¼ê¸°ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<ul>
<li><a href="https://Azderica.github.io/00-java-optional/" target="_blank" rel="nofollow noopener noreferrer">Java Optional</a></li>
<li><a href="https://Azderica.github.io/00-java-lambda/" target="_blank" rel="nofollow noopener noreferrer">Java Lambda</a></li>
<li><a href="https://Azderica.github.io/00-java-stream/" target="_blank" rel="nofollow noopener noreferrer">Java Stream</a></li>
</ul>
<p>ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¢€ ë” Optionalì„ ë” ì˜ ì“°ëŠ” ë°©ë²•ì— ëŒ€í•´ ì´ì•¼ê¸°í•´ë³¼ë ¤ê³ í•©ë‹ˆë‹¤.</p>
<br/>
<h2 id="optionalê³¼-stream"><a href="#optional%EA%B3%BC-stream" aria-hidden="true"><span class="icon icon-link"></span></a>Optionalê³¼ Stream</h2>
<p>Optionalì„ ì œëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Streamì„ ë¹¼ë†“ì„ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤. ì¼ë¶€ ë‹¤ë¥¸ í‘œí˜„ìœ¼ë¡œëŠ” <strong>Optional</strong>ì„ <strong>ìµœëŒ€ 1ê°œì˜ ì›ì†Œë¥¼ ê°€ì§„ íŠ¹ë³„í•œ Stream</strong>ì´ë¼ê³  í‘œí˜„í•˜ê¸°ë„ í•©ë‹ˆë‹¤.</p>
<p>Optional í´ë˜ìŠ¤ì™€ Stream í´ë˜ìŠ¤ ê°„ì— ì§ì ‘ì ì¸ ìƒê´€ê´€ê³„ëŠ” ì—†ì§€ë§Œ í¬ê²Œ ìœ ì‚¬í•œ ë¶€ë¶„ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì§€ë‚œì‹œê°„ì— ì´ì•¼ê¸°í•œ Streamì´ ê°€ì§€ê³  ìˆëŠ” <code class="language-text">map()</code>, <code class="language-text">flatMap()</code>, <code class="language-text">filter()</code> ëª¨ë‘ Optionalë„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="map-ì‚¬ìš©í•˜ê¸°"><a href="#map-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="icon icon-link"></span></a>map() ì‚¬ìš©í•˜ê¸°</h3>
<p>í•´ë‹¹ ì½”ë“œëŠ” <strong>"ì£¼ë¬¸ì„ í•œ íšŒì›ì´ ì‚´ê³  ìˆëŠ” ë„ì‹œë¥¼ ë°˜í™˜í•œë‹¤"</strong> ë¼ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCityOfMemberFromOrder</span><span class="token punctuation">(</span><span class="token class-name">Order</span> order<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Order</span><span class="token operator">::</span><span class="token function">getMember</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Member</span><span class="token operator">::</span><span class="token function">getAddress</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Address</span><span class="token operator">::</span><span class="token function">getCity</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token string">"Seoul"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ë‹¤ìŒ ì½”ë“œëŠ” ê¸°ì¡´ì˜ NPE(Null Pointer Exception) ë°©ì–´ íŒ¨í„´ì— ë¹„í•´ í›¨ì”¬ ê°„ê²°í•˜ê³  ëª…í™•í•œ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì´ë¥¼ ì¢€ ë” ìƒì„¸í•˜ê²Œ ì„¤ëª…í•œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.</p>
<ul>
<li><code class="language-text">ofNullable</code> ì„ í†µí•´ Order ê°ì²´ë¥¼ Optionalë¡œ ê°ìŒŒìœ¼ë©° ê°ì²´ê°€ nullì¸ ê²½ìš°ë¥¼ ìœ„í•´ <code class="language-text">of()</code> ëŒ€ì‹ ì— <code class="language-text">ofNullabe</code>ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.</li>
<li><code class="language-text">map()</code> ë©”ì†Œë“œë¥¼ 3ë²ˆ í˜¸ì¶œí•˜ë©´ì„œ Optional ê°ì²´ëŠ” <code class="language-text">Optional&lt;Order&gt;</code> ì—ì„œ <code class="language-text">Optional&lt;Member&gt;</code>, <code class="language-text">Optional&lt;Address&gt;</code>, <code class="language-text">Optional&lt;String&gt;</code>ìœ¼ë¡œ ê°ì²´ê°€ 3ë²ˆ ë³€í™”í•˜ì˜€ìŠµë‹ˆë‹¤.</li>
<li><code class="language-text">orElse()</code>ë¥¼ í†µí•´ <code class="language-text">Optional</code>ì´ ë¹„ì–´ìˆëŠ” ê²½ìš°, ë””í´íŠ¸ ê°’ìœ¼ë¡œ "Seoul"ì„ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.</li>
</ul>
<p>í•´ë‹¹ ì½”ë“œëŠ” <code class="language-text">null-safe</code>í•œ ì•„ë¦„ë‹¤ìš´ ì½”ë“œì…ë‹ˆë‹¤.</p>
<h3 id="filter-ì‚¬ìš©í•˜ê¸°"><a href="#filter-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" aria-hidden="true"><span class="icon icon-link"></span></a>filter() ì‚¬ìš©í•˜ê¸°</h3>
<p><strong>ì£¼ì–´ì§„ ì‹œê°„ë‚´ì— ìƒì„±ëœ ì£¼ë¬¸ì„ í•œ ê²½ìš°, íšŒì› ì •ë³´ë¥¼ ì–»ëŠ” ê¸°ëŠ¥</strong>ì„ êµ¬í˜„í•œ ì½”ë“œê°€ ì˜ˆì‹œë¡œ ìˆìŠµë‹ˆë‹¤.</p>
<p>ê¸°ì¡´ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Member</span> <span class="token function">getMemberIfOrderWithin</span><span class="token punctuation">(</span><span class="token class-name">Order</span> order<span class="token punctuation">,</span> <span class="token keyword">int</span> min<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>order <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> order<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> min <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> order<span class="token punctuation">.</span><span class="token function">getMember</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ì´ë¥¼ <code class="language-text">filter()</code>ì„ í†µí•´ ì½ê¸° í¸í•˜ê³  ì•„ë¦„ë‹¤ìš´ ì½”ë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Member</span><span class="token punctuation">></span></span> <span class="token function">getMemberIdOrderWithin</span><span class="token punctuation">(</span><span class="token class-name">Order</span> order<span class="token punctuation">,</span> <span class="token keyword">int</span> min<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullabe</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>o <span class="token operator">-></span> o<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMills</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> min <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Order</span><span class="token operator">::</span><span class="token function">getMember</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>ì´ì™€ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë‹¤ë§Œ <code class="language-text">filter()</code> ì˜ ê²½ìš°, <code class="language-text">Opional</code>ê³¼ <code class="language-text">Stream</code>ì€ ì•½ê°„ì˜ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤. ë™ì‘ ë°©ì‹ì€ ë™ì¼í•˜ì§€ë§Œ <code class="language-text">Optional</code>ì˜ ê²½ìš°ì—ëŠ” ì›ì†Œê°€ í•˜ë‚˜ì´ê¸° ë•Œë¬¸ì—, <code class="language-text">filter()</code> ë¡œ ë„˜ì–´ì˜¨ í•¨ìˆ˜í˜• ì¸ìê°’ì´ false ì¸ ê²½ìš°ì—ëŠ” ê·¸ ì´í›„ì˜ ë©”ì†Œë“œëŠ” ì˜ë¯¸ì—†ì–´ì§‘ë‹ˆë‹¤.</p>
<br/>
<h2 id="optional-í™œìš©-ì˜ˆì‹œ"><a href="#optional-%ED%99%9C%EC%9A%A9-%EC%98%88%EC%8B%9C" aria-hidden="true"><span class="icon icon-link"></span></a>Optional í™œìš© ì˜ˆì‹œ</h2>
<h3 id="null-ë°˜í™˜"><a href="#null-%EB%B0%98%ED%99%98" aria-hidden="true"><span class="icon icon-link"></span></a>null ë°˜í™˜</h3>
<p>ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ê°€ ìˆëŠ” ê²½ìš°.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> cities <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token comment">// {1, "Seoul"}, {2, "Busan"}, {3, "Daegu"}</span></code></pre>
<p><code class="language-text">map</code> ì¸í„°í˜ì´ìŠ¤ì—ì„œ <code class="language-text">get()</code> ë©”ì†Œë“œ ì‚¬ìš©ì‹œ ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ê°’ì´ ì—†ìœ¼ë©´ nullì„ ë°˜í™˜í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ê¸°ì¡´ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">String</span> city <span class="token operator">=</span> cities<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// return null</span>
<span class="token keyword">int</span> length <span class="token operator">=</span> city <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> city<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// null check</span></code></pre>
<p>ë‹¤ë§Œ <code class="language-text">Optional</code>ì„ í†µí•´ <code class="language-text">get()</code>ì„ ê°ì‹¸ì£¼ë©´ null-safeí•œ ì½”ë“œê°€ ë©ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> maybeCity <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>cities<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Optional</span>
<span class="token keyword">int</span> length <span class="token operator">=</span> maybeCity<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// null-safe</span></code></pre>
<p>ì´ì™€ ê°™ì´ ì•„ë¦„ë‹¤ìš´ ì½”ë“œê°€ ë©ë‹ˆë‹¤.</p>
<h3 id="ì˜ˆì™¸-ë°œìƒ"><a href="#%EC%98%88%EC%99%B8-%EB%B0%9C%EC%83%9D" aria-hidden="true"><span class="icon icon-link"></span></a>ì˜ˆì™¸ ë°œìƒ</h3>
<p>ë§ˆì°¬ê°€ì§€ë¡œ null ë°˜í™˜ì„ í•˜ì§€ ì•Šê³  ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ê²½ìš°ì—ë„ <code class="language-text">Optional</code>ì€ íš¨ê³¼ì ì…ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> cities <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"Seoul"</span><span class="token punctuation">,</span> <span class="token string">"Busan"</span><span class="token punctuation">,</span> <span class="token string">"Daegu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>ì´ì™€ ê°™ì€ ë°ì´í„°ê°€ ìˆì„ ë•Œ, ê¸°ì¡´ì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">String</span> city <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
	city <span class="token operator">=</span> cities<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// throws exception</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// ignore</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> length <span class="token operator">=</span> city <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> city<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null check</span></code></pre>
<p>ì´ë¥¼ Optionalì„ í†µí•´ì„œ ìˆ˜ì •ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getAsOptional</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ì •ì  ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ null-safeí•˜ê²Œ ê°„ë‹¨í•˜ê²Œ ì½”ë”©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> maybeCity <span class="token operator">=</span> <span class="token function">getAsOptional</span><span class="token punctuation">(</span>cities<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Optional</span>
<span class="token keyword">int</span> length <span class="token operator">=</span> maybeCity<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">length</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null-safe</span></code></pre>
<br/>
<h2 id="java-9ì˜-optional-ë©”ì†Œë“œ"><a href="#java-9%EC%9D%98-optional-%EB%A9%94%EC%86%8C%EB%93%9C" aria-hidden="true"><span class="icon icon-link"></span></a>Java 9ì˜ Optional ë©”ì†Œë“œ</h2>
<p>ìë°” 9ì—ì„œë„ ì¶”ê°€ëœ ì˜µì…”ë„ ë©”ì†Œë“œê°€ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="or"><a href="#or" aria-hidden="true"><span class="icon icon-link"></span></a>or</h3>
<p>ê¸°ì¡´ì˜ <code class="language-text">.orElseGet()</code>ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ì²´ì´ë‹ì„ í†µí•´ì„œ ìš°ì„  ìˆœìœ„ë¥¼ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code class="language-text">.or()</code> ì—°ì‚° ì¤‘ ë¹„ì–´ìˆìœ¼ë©´ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰í•©ë‹ˆë‹¤.</p>
<p>ì˜ˆì œ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// public Optional&lt;T> or(Supplier&lt;? extends Optional&lt;? extends T>></span>
<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>value <span class="token operator">-></span> <span class="token string">"filter"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token operator">::</span><span class="token function">empty</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"second"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token string">"final"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output : 'second'</span></code></pre>
<h3 id="ifpresentorelse"><a href="#ifpresentorelse" aria-hidden="true"><span class="icon icon-link"></span></a>ifPresentOrElse</h3>
<p>ê¸°ì¡´ì˜ <code class="language-text">.ifPresent</code> ë©”ì†Œë“œì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë” ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code class="language-text">emptyAction</code>ì„ ì¶”ê°€ë¡œ ë°›ì•„ì„œ ìœ íš¨í•œ ê°ì²´ê°€ ìˆëŠ” ê²½ìš° <code class="language-text">action</code>ì„ ì‹¤í–‰í•˜ê³  ê·¸ë ‡ì§€ ëª»í•œ ê²½ìš°ì—ëŠ” <code class="language-text">emptyAction</code>ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// public void ifPresentOrElse(Consumer&lt;? super T> action, Runnable emptyAction);</span>

<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ifPresentOrElse</span><span class="token punctuation">(</span>value <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output : 'test'</span>

<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ifPresentOrElse</span><span class="token punctuation">(</span>value <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"null"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output : 'null'</span></code></pre>
<h3 id="stream"><a href="#stream" aria-hidden="true"><span class="icon icon-link"></span></a>.stream</h3>
<p><code class="language-text">.stream()</code> ë©”ì„œë“œëŠ” Optional ê°ì²´ê°€ ë°”ë¡œ ìŠ¤íŠ¸ë¦¼ ê°ì²´ë¡œ ì „í™˜ë˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// public Stream&lt;T> stream();</span>

<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> result <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>val <span class="token operator">-></span> val <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token operator">::</span><span class="token function">stream</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">valueOf</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output : [2, 4]</span></code></pre>
<br/>
<h2 id="java-10ì˜-optional-ë©”ì†Œë“œ"><a href="#java-10%EC%9D%98-optional-%EB%A9%94%EC%86%8C%EB%93%9C" aria-hidden="true"><span class="icon icon-link"></span></a>Java 10ì˜ Optional ë©”ì†Œë“œ</h2>
<p>ìë°” 10ì—ì„œë„ í•˜ë‚˜ì˜ ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
<h3 id="orelsethrow"><a href="#orelsethrow" aria-hidden="true"><span class="icon icon-link"></span></a>orElseThrow</h3>
<p>ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”ì—†ëŠ” ì˜ˆì™¸ ë©”ì„œë“œì…ë‹ˆë‹¤.</p>
<pre class="language-java"><code class="language-java"><span class="token comment">// Java 8</span>
<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>something<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">NoSuchElementException</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Java 10</span>
<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>something<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<br/>
<h2 id="ë§ˆë¬´ë¦¬"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>ë§ˆë¬´ë¦¬.</h2>
<p>ì´ìƒìœ¼ë¡œ ê¸¸ê³  ê¸¸ì—ˆë˜ Javaì˜ Optinal, lambda, Streamì— ëŒ€í•´ í•œë²ˆ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ìŠ¤í”„ë§ ê°œë°œì„ í•˜ë©´ì„œ ì¢‹ì€ ì½”ë“œì— ëŒ€í•´ ë§ì€ ê³ ë¯¼ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. í´ë¦° ì½”ë“œì—ì„œ ì¶”ê°€í•˜ëŠ” ì•„ë¦„ë‹¤ìš´ ì½”ë“œë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ì‹ìœ¼ë¡œ ì½”ë“œë¥¼ êµ¬ì„±í•´ì•¼í• ê¹Œë¼ëŠ” ìƒê°ì´ ë§ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
<p>í•¨ê»˜ ì¼í•˜ê¸° ì¢‹ì€ ê°œë°œì ì¤‘ í•œëª…ìœ¼ë¡œ ì½”ë“œë¥¼ ë³´ê¸° ì‰½ê²Œ ì§œëŠ” ì‚¬ëŒì´ ìˆë‹¤ëŠ” ì´ì•¼ê¸°ë¥¼ ë“¤ì€ì ì´ ìˆìŠµë‹ˆë‹¤. ì € ë˜í•œ ì´ë¶€ë¶„ì„ ì˜ ì‚´ë ¤ì„œ ì•„ë¦„ë‹µê³  ì‚¬ìš©ìê°€ ë³´ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ êµ¬ì„±í•˜ëŠ”ë° ëª©í‘œë¥¼ ì„¸ì›Œì•¼ê² ë‹¤ëŠ” ìƒê°ì´ ë“œëŠ” ì‹œê°„ì´ì˜€ìŠµë‹ˆë‹¤.</p>
<p>ë¶€ì¡±í•œ ì ì´ë‚˜ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆìœ¼ë©´ í¸í•˜ê²Œ ì´ì•¼ê¸°ì£¼ì„¸ìš”. ê°ì‚¬í•©ë‹ˆë‹¤.</p>
<hr>
<p><strong>ì¶œì²˜</strong></p>
<ul>
<li><a href="https://www.daleseo.com/java8-optional-after/" target="_blank" rel="nofollow noopener noreferrer">https://www.daleseo.com/java8-optional-after/</a></li>
<li><a href="https://www.daleseo.com/java8-optional-effective/" target="_blank" rel="nofollow noopener noreferrer">https://www.daleseo.com/java8-optional-effective/</a></li>
<li><a href="https://jdm.kr/blog/234" target="_blank" rel="nofollow noopener noreferrer">https://jdm.kr/blog/234</a></li>
</ul>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/Java/" class="post-tags__link"><span>#</span> Java
		</a><a href="/tag/Optional/" class="post-tags__link"><span>#</span> Optional
		</a><a href="/tag/Stream/" class="post-tags__link"><span>#</span> Stream
		</a><a href="/tag/Backend/" class="post-tags__link"><span>#</span> Backend
		</a></div></div></div><div class="post-comments" style="display:none;"></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgEDBAcIBQIA/8QAMBAAAQMDAgQFAwQDAQAAAAAAAQIDBAAFERIhBhMxUQciQWFxFJGhFiMygRVCsdH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgMABP/EACARAAICAgICAwAAAAAAAAAAAAECABEDEiExBCITQUL/2gAMAwEAAhEDEQA/ALKr4mmyo5pdVPJXFNIakR4ynUlaspbAznHX4qp/EzxOTw9LctVnQ07cEpBW%2b4QW2sjYY9VfOMe9LuLqNowFyzx0pDWTX%2bM%2bIZMovOcQT9ZUFYbdKQD8DbHxWg/Cy7XriC0xZl%2bTEYiyBy4i06ua%2bpOcqV/qAcHHqaBcDuMqMxoQtNeTUiayGVJKM6TsQeqVDqKjUVYMLEzKVNGeiupMCOZTnZtP8jTcSGp/C3Mpa/JqJfLythf0VrbQp0DzFX8UDuankyfle4%2bLFfs/AnL4x42t9puRgPsZitMuPPSCSSjSkkBCR1Vt%2bM1Stv8ADfibjGQ5f5S4Mf6xfNCJWvUpJ6FSUjbbHrmrNn8PNTo036xXOkymy2VgYCQrY4HxtRBw5DegyHhHhpiAq0lZeLnNGNlHI2PpjeoHbH33Oz0zGh0JRvF/hfxBbYvPiRbc4003%2b43BdcKlnfK9Lm5PsD0HSjjwB46uHEN/uFivKkGN9Ml2KylGAyWyElI7DGDjvRRf1SHJMlEh66ocLepK2NJYwTgJ0k5J37dM71WEaR%2bkfEW0Xvkqw4tUeWllJ8yVDBUB3Gx/qtvtw0Pw6cpNFXZCkMuDqcZz8Vy0kFIPcV3w7HutuS7GcS4hadSVJ6GhoL5bqmVbLRtg0%2bA0SJDyFNAx%2b/XUsIDMfd1Ww/8Aa4DCNIJJJKjlSj1Ue9DDvHvDqOfImXNlK9ZSkDKjgdgM1HV4l8MJjB4zHic45YYUV/bpj%2b6piUKLPcjmcsaHUN0Hzox1yK6z85wJy0yXloQf2kKAVn060B/rOxC1xLg7cEMsSgS0Fg6zg4PlGTsaM7KLbxxZ2btZ5KCtOWXkLRgpUOpwfQ7GtlTeiJTxMioSH6ntcpSLQtU1gIcGdshRx6Zx61XCoKLnci88hTSUkltWN09Onuf%2bVYlybs/DlsU2FtyX86iEKyhJ7k%2bp9qDVXBMyQ64CnmZBWkHdORtkfGKgMPNMZ0t5OtsghxwI%2bhhKoKAEtgakJAwB3p/iqERiUyPOnc49aGLDK5FxYWFY82D8GrGdQmRG3wQRRcatxJo26%2b0wVpK0kDb4pWm3HGwlIyoq0bd6QOBCCTXbtLIMaK6oDSnU8fk9KuBc4pDlQzGmuac%2bVsKH23/Io/8ADriViySXY90b5lskJAdSUatB9FY6/b27UKzG%2bdIQsbamSPuRXp0aClY9Nj8U2sIYjmWNfeIOHks86LeA7g4RFRGWgJHck7mq2uV0luXQ3GO%2b8zLkrAy2op0J7bewFNTUnWgBX8t6bbwJaUkbcsn8ikCAG5R8zMoX6EIovGd8YkM65ijo3xoTggeh23PvWrrFLTMtzLqCClxtK0/BGaxo6%2bhSlKO2lRT8d60t4MXX/IcFW4knWyDHUD1Gk4H4xSZR0Y%2bA8kT/2Q==' /%3e%3c/svg%3e" width="180" data-src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" data-srcset="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">To be a Pro in Web developer</p><p class="author__links"><a href="//linkedin.com/in/myeonghun-park-7693a1184/">ğŸ“˜ Linkedin</a><a href="//azderica.github.io/til/docs/intro">ğŸ“š TIL</a><a href="//github.com/Azderica">ğŸ’» GitHub</a><a href="//azderica.github.io/Portfolio/" target="_blank">âœ¨ Portfolio</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright Â© 2022.
    </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div> <script src="/assets/js/app.2e146938.js" defer></script><script src="/assets/js/page--src--templates--post-vue.57b1d0b4.js" defer></script>
  </body>
</html>
