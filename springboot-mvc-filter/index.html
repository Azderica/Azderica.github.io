<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>[Springboot] 스프링부트 MVC - Filter - Azderica</title><meta name="gridsome:hash" content="fc6e29a67ddc38efe16f045a3de184da00f36a74"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="부족하지만 꿈많은 웹 개발자의 발전 기록입니다."><meta data-vue-tag="ssr" name="description" content=" Springboot MVC 중 Filter에 대한 설명입니다. "><link rel="preload" href="/blog/assets/css/0.styles.4ccc9e1d.css" as="style"><link rel="preload" href="/blog/assets/js/app.672b1d96.js" as="script"><link rel="preload" href="/blog/assets/js/page--src--templates--post-vue.238f89b8.js" as="script"><link rel="prefetch" href="/blog/assets/js/page--node-modules--gridsome--app--pages--404-vue.b6200640.js"><link rel="prefetch" href="/blog/assets/js/page--src--pages--index-vue.41e1013f.js"><link rel="prefetch" href="/blog/assets/js/page--src--templates--tag-vue.7eab7acd.js"><link rel="stylesheet" href="/blog/assets/css/0.styles.4ccc9e1d.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <script>
      // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
      (function() {
        window.__onThemeChange = function() {};
        function setTheme(newTheme) {
          window.__theme = newTheme;
          preferredTheme = newTheme;
          document.body.setAttribute('data-theme', newTheme);
          window.__onThemeChange(newTheme);
        }

        var preferredTheme;
        try {
          preferredTheme = localStorage.getItem('theme');
        } catch (err) { }

        window.__setPreferredTheme = function(newTheme) {
          setTheme(newTheme);
          try {
            localStorage.setItem('theme', newTheme);
          } catch (err) {}
        }

        var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
        darkQuery.addListener(function(e) {
          window.__setPreferredTheme(e.matches ? 'dark' : 'light')
        });

        setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
      })();
    </script>

    <div id="app" data-server-rendered="true"><header class="header"><div class="header__left"><a href="/blog/" class="logo active"><span class="logo__text">
    ← Azderica
  </span></a></div><div class="header__right"><button role="button" aria-label="Toggle dark/light" class="toggle-theme"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></button></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">
      [Springboot] 스프링부트 MVC - Filter
    </h1><div class="post-meta">
   Posted 3. November 2020.
   <strong>4 min read.</strong></div></div><div class="post content-box"><div class="post__header"><img alt="Cover image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 820 442' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-29f2605aef896f90944d207b9d4e9d4c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-29f2605aef896f90944d207b9d4e9d4c)' width='820' height='442' xlink:href='data:image/png%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAiAEADASIAAhEBAxEB/8QAGwABAAMBAAMAAAAAAAAAAAAAAAQFBgMCBwj/xAAqEAABAwQBAgUEAwAAAAAAAAABAgMEAAURIRIGMRNBUWGBFBUiMgdxof/EABgBAQADAQAAAAAAAAAAAAAAAAACAwQB/8QAIxEAAgICAgIBBQAAAAAAAAAAAAECEQMhEjEEQVEiYZGx4f/aAAwDAQACEQMRAD8A%2bnaUpQCs51b1SxYEobS348xwckt5wEj1Ua0dYx2BBX/IEt%2b9lrwRGQ7HD5AQcYB76OPT3rN5U5xglj026v4Ksrkl9Psr7H17OnXFqO5bUPpcVjEbPJPvvR/yvYDKy42FKTxVsFOc4I0RUWNLiuZFrZQhgDLkkN8G0pHocDkf60PWu8RYdbU6j9HFqWj3STo/Pf5rnjKcVU58hiUlpys7UpStRaKgXi5t2xplS21uuPuBpptBAKlEZ7kgDt51PqtvsF6fFS019ItPLK2pTXNCx8HII9RUMnLi%2bPZGV1oiOdRcJLMUWueZjrRdSxxSDpWDk5wB557VW3i%2b225Qm4cmBOedfWtox2xxdQ4jB4nfuDntquMKx3W3XmMIbyCW4jmVuNqUz%2bTmfCG8gAdt51VjbunXo90jXCRKQ7IDjzr5CMBSlpCQE%2bgAFYrz5Fxa%2bzuutfn2UXkkqKCNHs0e4JaMS7T5AeW0mO66Fp5oSFdsgY3561WjR1RHcaaSxDluTXHVsiGEgOJUj9snOABkbrxidPusX77gZCCj6h57gEnOFpSAPjFV1ytUy1z/ALjBDj0lUp50eGyXEhtYT%2bK0gg%2bXcVGMcuFNxVK/hda3%2bziU4LSNDaLu3c3pbSWH2HYqkpcS8ACCRnGjVlWd6Rjzg9c51yQpDkt1JSlaOBwlOM8cnA9Ad6rRVtwSlKCcu/7ovxtuNsUpSrSYpSlAKUpQClKUB//Z' /%3e%3c/svg%3e" width="820" data-src="/blog/assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png" data-srcset="/blog/assets/static/SpringLogo.a67b0b2.be0c3d9590430504675b948223711f21.png 480w, /blog/assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png 820w" data-sizes="(max-width: 820px) 100vw, 820px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/SpringLogo.214a68b.be0c3d9590430504675b948223711f21.png" class="g-image g-image--loaded" width="820" alt="Cover image"></noscript></div><div class="post__content"><h1 id="spring-boot-mvc---filter"><a href="#spring-boot-mvc---filter" aria-hidden="true"><span class="icon icon-link"></span></a>Spring Boot MVC - Filter</h1>
<p>HTTP Method 취약점을 제거하는 업무를 하는 중에 기존 코드에서 일부분 수정을 해야하는 법을 알았다. 그중 필터에 대해 알게되었고 HTTP 헤더 정보를 설정, Encoding, XSS, CORS 이슈등을 해결할 수 있다는 점을 알았다.</p>
<p>이에 대해서 Filter에 대해 공부해야겠다는 생각이 들었다.</p>
<br/>
<h2 id="filter란"><a href="#filter%EB%9E%80" aria-hidden="true"><span class="icon icon-link"></span></a>Filter란.</h2>
<p><img src="https://user-images.githubusercontent.com/42582516/97983638-ee3dad80-1e18-11eb-95ca-2b249554509b.png" alt="image"></p>
<p>다음의 사진과 같습니다.</p>
<p>서블릿의 ServletContext 기능으로 사용자에 의해 서블릿이 호출 되기 전/후로 사용자 요청/응답의 헤더 정보 등을 검사 및 설정할 수 있습니다.</p>
<br/>
<h2 id="filter와-interceptor의-차이"><a href="#filter%EC%99%80-interceptor%EC%9D%98-%EC%B0%A8%EC%9D%B4" aria-hidden="true"><span class="icon icon-link"></span></a>Filter와 Interceptor의 차이</h2>
<ul>
<li>Filter는 DispatcherServlet 앞에서 먼저 동작하고, Intercepter는 DispatcherServlet에서 Controller(Handler) 사이에서 동작합니다.</li>
<li>
<p>Filter</p>
<ul>
<li><code>웹 어플리케이션의 Context</code>의 기능을 가지고 있다.</li>
<li>스프링 기능을 활용하기에 어렵다.</li>
<li>일반적으로 인코딩, CORS, XSS, LOG, 인증, 권한 등을 구현한다..</li>
</ul>
</li>
<li>
<p>Interceptor</p>
<ul>
<li><code>스프링의 Spring Context</code>의 기능이며 일종의 빈이다.</li>
<li>스프링 컨테이너이므로 다른 Bean을 주입해서, 활용성을 높일 수 있다.</li>
<li>다른 Bean을 활용 가능하기에 인증 및 권한 등을 구현할 수 있다.</li>
</ul>
</li>
</ul>
<br/>
<h2 id="springboot에서-filter를-설정"><a href="#springboot%EC%97%90%EC%84%9C-filter%EB%A5%BC-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>Springboot에서 Filter를 설정.</h2>
<blockquote>
<p>스프링에서는 웹 어플리케이셔 컨텍스트를 설정할 수 있는 web.xml 파일을 통한 필터를 설정할 수 있다. 그러나 스프링부트는 다르다.</p>
</blockquote>
<pre><code class="language-xml">&#x3C;filter>
     &#x3C;filter-name>SomeFilter&#x3C;/filter-name>
    &#x3C;filter-class>com.somecompany.SomeFilter&#x3C;/filter-class>
&#x3C;/filter>
&#x3C;filter-mapping>
    &#x3C;filter-name>SomeFilter&#x3C;/filter-name>
    &#x3C;url-pattern>/url/*&#x3C;/url-pattern>
    &#x3C;init-param>
       &#x3C;param-name>paramName&#x3C;/param-name>
       &#x3C;param-value>paramValue&#x3C;/param-value>
    &#x3C;/init-param>
&#x3C;/filter-mapping>
</code></pre>
<blockquote>
<p>스프링 부트는 다음과 같이 설정할 수 있습니다.</p>
</blockquote>
<pre><code class="language-java">@Bean
public FilterRegistrationBean testFilterRegistration() {

    FilterRegistrationBean registration = new FilterRegistrationBean();
    registration.setFilter(testFilter());
    registration.addUrlPatterns("/url/*");
    registration.addInitParameter("paramName", "paramValue");
    registration.setName("testFilter");
    registration.setOrder(1);
    return registration;
} 

public Filter testFilter() {
    return new testFilter();
}
</code></pre>
<p>이처럼 스프링과 스프링 부트의 필터 설정은 다르게 설정됩니다.</p>
<p>좀 더 스프링 부트의 필터에 대해 알아보자면, 다음과 같습니다. 스프링 부트에서 필터를 사용하는 방법은 크게 두가지로 나눠집니다.</p>
<h3 id="1-filterregistrationbean으로-필터-등록"><a href="#1-filterregistrationbean%EC%9C%BC%EB%A1%9C-%ED%95%84%ED%84%B0-%EB%93%B1%EB%A1%9D" aria-hidden="true"><span class="icon icon-link"></span></a>1. FilterRegistrationBean으로 필터 등록</h3>
<p><code>org.springframework.boot.web.servlet</code>의 <code>FilterRegistrationBeen</code>을 사용하여, CORSFilter 클래스를 설정파일에서 빈으로 등록하는 방식입니다.</p>
<ul>
<li>예시코드는 다음과 같습니다.</li>
</ul>
<pre><code class="language-java">@SpringBootApplication
public class TestApplication1 {

    public static void main(String[] args) {
        SpringApplication.run(TestApplication1.class, args);
    }

    @Bean
    public FilterRegistrationBean setFilterRegistration() {
        FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(new MyFilter());

        // string 여러개를 가변인자로 받는 메소드
        filterRegistrationBean.addUrlPatterns("/filtered/*"); 
        return filterRegistrationBean;
    }
}
</code></pre>
<h3 id="2-webfilter--servletcomponentscan"><a href="#2-webfilter--servletcomponentscan" aria-hidden="true"><span class="icon icon-link"></span></a>2. @WebFilter + @ServletComponentScan</h3>
<p>스프링부트에서 지원하는 <code>@WebFilter</code> 애너테이션으로 자동 등록 후에 <code>@ServletComponentScan</code>을 사용하는 방식이다.</p>
<p>예시코드는 다음과 같습니다.</p>
<ul>
<li><code>@ServletComonentScan 설정</code></li>
</ul>
<pre><code class="language-java">@ServletComponentScan
@SpringBootApplication
public class TestApplication2 {
    public static void main(String[] args) {
        SpringApplication.run(TestApplication2.class, args);
    }
}
</code></pre>
<ul>
<li><code>@WebFilter 설정</code></li>
</ul>
<pre><code class="language-java">@Slf4j
@WebFilter(urlPatterns = "/filtered/*")
public class MyFilter implements Filter {
    // 1번과 내용이 같습니다.
}
</code></pre>
<p>다음과 같이 구성할 수 있습니다. 해당 코드와 같이 Springboot에 필터를 설정할 수 있습니다. </p>
<br/>
<h2 id="마무리"><a href="#%EB%A7%88%EB%AC%B4%EB%A6%AC" aria-hidden="true"><span class="icon icon-link"></span></a>마무리.</h2>
<p>업무 개발 코드를 추가할 수 없어서 간단하게 정리했습니다. 다음에 업무 상에 시간이 조금 있으면, HTTP Method를 제한하는 코드를 추가적으로 구성해서 올리겠습니다.</p>
<hr>
<p><strong>출처</strong></p>
<ul>
<li><a href="https://linked2ev.github.io/gitlog/2019/09/15/springboot-mvc-13-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-MVC-Filter-%EC%84%A4%EC%A0%95/" target="_blank" rel="nofollow noopener noreferrer">https://linked2ev.github.io/gitlog/2019/09/15/springboot-mvc-13-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-MVC-Filter-%EC%84%A4%EC%A0%95/</a></li>
<li><a href="https://qastack.kr/programming/19825946/how-to-add-a-filter-class-in-spring-boot" target="_blank" rel="nofollow noopener noreferrer">https://qastack.kr/programming/19825946/how-to-add-a-filter-class-in-spring-boot</a></li>
<li><a href="https://luvstudy.tistory.com/79" target="_blank" rel="nofollow noopener noreferrer">https://luvstudy.tistory.com/79</a></li>
</ul>
</div><div class="post__footer"><div class="post-tags"><a href="/blog/tag/Spring/" class="post-tags__link"><span>#</span> Spring
		</a><a href="/blog/tag/Springboot/" class="post-tags__link"><span>#</span> Springboot
		</a><a href="/blog/tag/Filter'/" class="post-tags__link"><span>#</span> Filter'
		</a><a href="/blog/tag/Backend/" class="post-tags__link"><span>#</span> Backend
		</a></div></div></div><div class="post-comments"></div><div class="author post-author"><img alt="Author image" src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='5'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-bfb91fc8d3516221a47de6ec13d7cf4f)' width='180' height='180' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABAAEADASIAAhEBAxEB/8QAHAAAAQUBAQEAAAAAAAAAAAAABgEDBAcIBQIA/8QAMBAAAQMDAgQFAwQDAQAAAAAAAQIDBAAFERIhBhMxUQciQWFxFJGhFiMygRVCsdH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgMABP/EACARAAICAgICAwAAAAAAAAAAAAECABEDEiExBCITQUL/2gAMAwEAAhEDEQA/ALKr4mmyo5pdVPJXFNIakR4ynUlaspbAznHX4qp/EzxOTw9LctVnQ07cEpBW%2b4QW2sjYY9VfOMe9LuLqNowFyzx0pDWTX%2bM%2bIZMovOcQT9ZUFYbdKQD8DbHxWg/Cy7XriC0xZl%2bTEYiyBy4i06ua%2bpOcqV/qAcHHqaBcDuMqMxoQtNeTUiayGVJKM6TsQeqVDqKjUVYMLEzKVNGeiupMCOZTnZtP8jTcSGp/C3Mpa/JqJfLythf0VrbQp0DzFX8UDuankyfle4%2bLFfs/AnL4x42t9puRgPsZitMuPPSCSSjSkkBCR1Vt%2bM1Stv8ADfibjGQ5f5S4Mf6xfNCJWvUpJ6FSUjbbHrmrNn8PNTo036xXOkymy2VgYCQrY4HxtRBw5DegyHhHhpiAq0lZeLnNGNlHI2PpjeoHbH33Oz0zGh0JRvF/hfxBbYvPiRbc4003%2b43BdcKlnfK9Lm5PsD0HSjjwB46uHEN/uFivKkGN9Ml2KylGAyWyElI7DGDjvRRf1SHJMlEh66ocLepK2NJYwTgJ0k5J37dM71WEaR%2bkfEW0Xvkqw4tUeWllJ8yVDBUB3Gx/qtvtw0Pw6cpNFXZCkMuDqcZz8Vy0kFIPcV3w7HutuS7GcS4hadSVJ6GhoL5bqmVbLRtg0%2bA0SJDyFNAx%2b/XUsIDMfd1Ww/8Aa4DCNIJJJKjlSj1Ue9DDvHvDqOfImXNlK9ZSkDKjgdgM1HV4l8MJjB4zHic45YYUV/bpj%2b6piUKLPcjmcsaHUN0Hzox1yK6z85wJy0yXloQf2kKAVn060B/rOxC1xLg7cEMsSgS0Fg6zg4PlGTsaM7KLbxxZ2btZ5KCtOWXkLRgpUOpwfQ7GtlTeiJTxMioSH6ntcpSLQtU1gIcGdshRx6Zx61XCoKLnci88hTSUkltWN09Onuf%2bVYlybs/DlsU2FtyX86iEKyhJ7k%2bp9qDVXBMyQ64CnmZBWkHdORtkfGKgMPNMZ0t5OtsghxwI%2bhhKoKAEtgakJAwB3p/iqERiUyPOnc49aGLDK5FxYWFY82D8GrGdQmRG3wQRRcatxJo26%2b0wVpK0kDb4pWm3HGwlIyoq0bd6QOBCCTXbtLIMaK6oDSnU8fk9KuBc4pDlQzGmuac%2bVsKH23/Io/8ADriViySXY90b5lskJAdSUatB9FY6/b27UKzG%2bdIQsbamSPuRXp0aClY9Nj8U2sIYjmWNfeIOHks86LeA7g4RFRGWgJHck7mq2uV0luXQ3GO%2b8zLkrAy2op0J7bewFNTUnWgBX8t6bbwJaUkbcsn8ikCAG5R8zMoX6EIovGd8YkM65ijo3xoTggeh23PvWrrFLTMtzLqCClxtK0/BGaxo6%2bhSlKO2lRT8d60t4MXX/IcFW4knWyDHUD1Gk4H4xSZR0Y%2bA8kT/2Q==' /%3e%3c/svg%3e" width="180" data-src="/blog/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" data-srcset="/blog/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg 180w" data-sizes="(max-width: 180px) 100vw, 180px" class="author__image g-image g-image--lazy g-image--loading"><noscript><img src="/blog/assets/static/author.e6b6009.98a7113f4952b5eaa532b5d16696f13d.jpg" class="author__image g-image g-image--loaded" width="180" alt="Author image"></noscript><!----><p class="author__intro">
		To be a Pro in Web developer
	</p><p class="author__links"><a href="//linkedin.com/in/myeonghun-park-7693a1184/">Linkedin</a><a href="//github.com/Azderica">GitHub</a></p></div></main><footer class="footer"><span class="footer__copyright">Copyright © 2020. </span><span class="footer__links">Powered by <a href="//gridsome.org"> Gridsome </a></span></footer></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"[Springboot] 스프링부트 MVC - Filter","path":"\u002Fspringboot-mvc-filter\u002F","date":"3. November 2020","timeToRead":4,"tags":[{"id":"Spring","title":"Spring","path":"\u002Ftag\u002FSpring\u002F"},{"id":"Springboot","title":"Springboot","path":"\u002Ftag\u002FSpringboot\u002F"},{"id":"Filter'","title":"Filter'","path":"\u002Ftag\u002FFilter'\u002F"},{"id":"Backend","title":"Backend","path":"\u002Ftag\u002FBackend\u002F"}],"description":" Springboot MVC 중 Filter에 대한 설명입니다. ","content":"\u003Ch1 id=\"spring-boot-mvc---filter\"\u003E\u003Ca href=\"#spring-boot-mvc---filter\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpring Boot MVC - Filter\u003C\u002Fh1\u003E\n\u003Cp\u003EHTTP Method 취약점을 제거하는 업무를 하는 중에 기존 코드에서 일부분 수정을 해야하는 법을 알았다. 그중 필터에 대해 알게되었고 HTTP 헤더 정보를 설정, Encoding, XSS, CORS 이슈등을 해결할 수 있다는 점을 알았다.\u003C\u002Fp\u003E\n\u003Cp\u003E이에 대해서 Filter에 대해 공부해야겠다는 생각이 들었다.\u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"filter란\"\u003E\u003Ca href=\"#filter%EB%9E%80\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFilter란.\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fuser-images.githubusercontent.com\u002F42582516\u002F97983638-ee3dad80-1e18-11eb-95ca-2b249554509b.png\" alt=\"image\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E다음의 사진과 같습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E서블릿의 ServletContext 기능으로 사용자에 의해 서블릿이 호출 되기 전\u002F후로 사용자 요청\u002F응답의 헤더 정보 등을 검사 및 설정할 수 있습니다.\u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"filter와-interceptor의-차이\"\u003E\u003Ca href=\"#filter%EC%99%80-interceptor%EC%9D%98-%EC%B0%A8%EC%9D%B4\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EFilter와 Interceptor의 차이\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EFilter는 DispatcherServlet 앞에서 먼저 동작하고, Intercepter는 DispatcherServlet에서 Controller(Handler) 사이에서 동작합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EFilter\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E웹 어플리케이션의 Context\u003C\u002Fcode\u003E의 기능을 가지고 있다.\u003C\u002Fli\u003E\n\u003Cli\u003E스프링 기능을 활용하기에 어렵다.\u003C\u002Fli\u003E\n\u003Cli\u003E일반적으로 인코딩, CORS, XSS, LOG, 인증, 권한 등을 구현한다..\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003EInterceptor\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E스프링의 Spring Context\u003C\u002Fcode\u003E의 기능이며 일종의 빈이다.\u003C\u002Fli\u003E\n\u003Cli\u003E스프링 컨테이너이므로 다른 Bean을 주입해서, 활용성을 높일 수 있다.\u003C\u002Fli\u003E\n\u003Cli\u003E다른 Bean을 활용 가능하기에 인증 및 권한 등을 구현할 수 있다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"springboot에서-filter를-설정\"\u003E\u003Ca href=\"#springboot%EC%97%90%EC%84%9C-filter%EB%A5%BC-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESpringboot에서 Filter를 설정.\u003C\u002Fh2\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E스프링에서는 웹 어플리케이셔 컨텍스트를 설정할 수 있는 web.xml 파일을 통한 필터를 설정할 수 있다. 그러나 스프링부트는 다르다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-xml\"\u003E&#x3C;filter\u003E\n     &#x3C;filter-name\u003ESomeFilter&#x3C;\u002Ffilter-name\u003E\n    &#x3C;filter-class\u003Ecom.somecompany.SomeFilter&#x3C;\u002Ffilter-class\u003E\n&#x3C;\u002Ffilter\u003E\n&#x3C;filter-mapping\u003E\n    &#x3C;filter-name\u003ESomeFilter&#x3C;\u002Ffilter-name\u003E\n    &#x3C;url-pattern\u003E\u002Furl\u002F*&#x3C;\u002Furl-pattern\u003E\n    &#x3C;init-param\u003E\n       &#x3C;param-name\u003EparamName&#x3C;\u002Fparam-name\u003E\n       &#x3C;param-value\u003EparamValue&#x3C;\u002Fparam-value\u003E\n    &#x3C;\u002Finit-param\u003E\n&#x3C;\u002Ffilter-mapping\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E스프링 부트는 다음과 같이 설정할 수 있습니다.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-java\"\u003E@Bean\npublic FilterRegistrationBean testFilterRegistration() {\n\n    FilterRegistrationBean registration = new FilterRegistrationBean();\n    registration.setFilter(testFilter());\n    registration.addUrlPatterns(\"\u002Furl\u002F*\");\n    registration.addInitParameter(\"paramName\", \"paramValue\");\n    registration.setName(\"testFilter\");\n    registration.setOrder(1);\n    return registration;\n} \n\npublic Filter testFilter() {\n    return new testFilter();\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E이처럼 스프링과 스프링 부트의 필터 설정은 다르게 설정됩니다.\u003C\u002Fp\u003E\n\u003Cp\u003E좀 더 스프링 부트의 필터에 대해 알아보자면, 다음과 같습니다. 스프링 부트에서 필터를 사용하는 방법은 크게 두가지로 나눠집니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"1-filterregistrationbean으로-필터-등록\"\u003E\u003Ca href=\"#1-filterregistrationbean%EC%9C%BC%EB%A1%9C-%ED%95%84%ED%84%B0-%EB%93%B1%EB%A1%9D\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E1. FilterRegistrationBean으로 필터 등록\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Eorg.springframework.boot.web.servlet\u003C\u002Fcode\u003E의 \u003Ccode\u003EFilterRegistrationBeen\u003C\u002Fcode\u003E을 사용하여, CORSFilter 클래스를 설정파일에서 빈으로 등록하는 방식입니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E예시코드는 다음과 같습니다.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-java\"\u003E@SpringBootApplication\npublic class TestApplication1 {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication1.class, args);\n    }\n\n    @Bean\n    public FilterRegistrationBean setFilterRegistration() {\n        FilterRegistrationBean filterRegistrationBean = new FilterRegistrationBean(new MyFilter());\n\n        \u002F\u002F string 여러개를 가변인자로 받는 메소드\n        filterRegistrationBean.addUrlPatterns(\"\u002Ffiltered\u002F*\"); \n        return filterRegistrationBean;\n    }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"2-webfilter--servletcomponentscan\"\u003E\u003Ca href=\"#2-webfilter--servletcomponentscan\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E2. @WebFilter + @ServletComponentScan\u003C\u002Fh3\u003E\n\u003Cp\u003E스프링부트에서 지원하는 \u003Ccode\u003E@WebFilter\u003C\u002Fcode\u003E 애너테이션으로 자동 등록 후에 \u003Ccode\u003E@ServletComponentScan\u003C\u002Fcode\u003E을 사용하는 방식이다.\u003C\u002Fp\u003E\n\u003Cp\u003E예시코드는 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E@ServletComonentScan 설정\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-java\"\u003E@ServletComponentScan\n@SpringBootApplication\npublic class TestApplication2 {\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication2.class, args);\n    }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E@WebFilter 설정\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-java\"\u003E@Slf4j\n@WebFilter(urlPatterns = \"\u002Ffiltered\u002F*\")\npublic class MyFilter implements Filter {\n    \u002F\u002F 1번과 내용이 같습니다.\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E다음과 같이 구성할 수 있습니다. 해당 코드와 같이 Springboot에 필터를 설정할 수 있습니다. \u003C\u002Fp\u003E\n\u003Cbr\u002F\u003E\n\u003Ch2 id=\"마무리\"\u003E\u003Ca href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E마무리.\u003C\u002Fh2\u003E\n\u003Cp\u003E업무 개발 코드를 추가할 수 없어서 간단하게 정리했습니다. 다음에 업무 상에 시간이 조금 있으면, HTTP Method를 제한하는 코드를 추가적으로 구성해서 올리겠습니다.\u003C\u002Fp\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Cstrong\u003E출처\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flinked2ev.github.io\u002Fgitlog\u002F2019\u002F09\u002F15\u002Fspringboot-mvc-13-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-MVC-Filter-%EC%84%A4%EC%A0%95\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Flinked2ev.github.io\u002Fgitlog\u002F2019\u002F09\u002F15\u002Fspringboot-mvc-13-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8-MVC-Filter-%EC%84%A4%EC%A0%95\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fqastack.kr\u002Fprogramming\u002F19825946\u002Fhow-to-add-a-filter-class-in-spring-boot\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fqastack.kr\u002Fprogramming\u002F19825946\u002Fhow-to-add-a-filter-class-in-spring-boot\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fluvstudy.tistory.com\u002F79\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fluvstudy.tistory.com\u002F79\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","cover_image":{"type":"image","mimeType":"image\u002Fpng","src":"\u002Fblog\u002Fassets\u002Fstatic\u002FSpringLogo.214a68b.be0c3d9590430504675b948223711f21.png","size":{"width":820,"height":442},"sizes":"(max-width: 820px) 100vw, 820px","srcset":["\u002Fblog\u002Fassets\u002Fstatic\u002FSpringLogo.a67b0b2.be0c3d9590430504675b948223711f21.png 480w","\u002Fblog\u002Fassets\u002Fstatic\u002FSpringLogo.214a68b.be0c3d9590430504675b948223711f21.png 820w"],"dataUri":"data:image\u002Fsvg+xml,%3csvg fill='none' viewBox='0 0 820 442' xmlns='http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg' xmlns:xlink='http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-29f2605aef896f90944d207b9d4e9d4c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'\u002F%3e%3c\u002Ffilter%3e%3c\u002Fdefs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-29f2605aef896f90944d207b9d4e9d4c)' width='820' height='442' xlink:href='data:image\u002Fpng%3bbase64%2c\u002F9j\u002F2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj\u002F2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj\u002FwAARCAAiAEADASIAAhEBAxEB\u002F8QAGwABAAMBAAMAAAAAAAAAAAAAAAQFBgMCBwj\u002FxAAqEAABAwQBAgUEAwAAAAAAAAABAgMEAAURIRIGMRNBUWGBFBUiMgdxof\u002FEABgBAQADAQAAAAAAAAAAAAAAAAACAwQB\u002F8QAIxEAAgICAgIBBQAAAAAAAAAAAAECEQMhEjEEQVEiYZGx4f\u002FaAAwDAQACEQMRAD8A%2bnaUpQCs51b1SxYEobS348xwckt5wEj1Ua0dYx2BBX\u002FIEt%2b9lrwRGQ7HD5AQcYB76OPT3rN5U5xglj026v4Ksrkl9Psr7H17OnXFqO5bUPpcVjEbPJPvvR\u002FyvYDKy42FKTxVsFOc4I0RUWNLiuZFrZQhgDLkkN8G0pHocDkf60PWu8RYdbU6j9HFqWj3STo\u002FPf5rnjKcVU58hiUlpys7UpStRaKgXi5t2xplS21uuPuBpptBAKlEZ7kgDt51PqtvsF6fFS019ItPLK2pTXNCx8HII9RUMnLi%2bPZGV1oiOdRcJLMUWueZjrRdSxxSDpWDk5wB557VW3i%2b225Qm4cmBOedfWtox2xxdQ4jB4nfuDntquMKx3W3XmMIbyCW4jmVuNqUz%2bTmfCG8gAdt51VjbunXo90jXCRKQ7IDjzr5CMBSlpCQE%2bgAFYrz5Fxa%2bzuutfn2UXkkqKCNHs0e4JaMS7T5AeW0mO66Fp5oSFdsgY3561WjR1RHcaaSxDluTXHVsiGEgOJUj9snOABkbrxidPusX77gZCCj6h57gEnOFpSAPjFV1ytUy1z\u002FALjBDj0lUp50eGyXEhtYT%2bK0gg%2bXcVGMcuFNxVK\u002Fhda3%2bziU4LSNDaLu3c3pbSWH2HYqkpcS8ACCRnGjVlWd6Rjzg9c51yQpDkt1JSlaOBwlOM8cnA9Ad6rRVtwSlKCcu\u002F7ovxtuNsUpSrSYpSlAKUpQClKUB\u002F\u002FZ' \u002F%3e%3c\u002Fsvg%3e"}}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/blog/assets/js/app.672b1d96.js" defer></script><script src="/blog/assets/js/page--src--templates--post-vue.238f89b8.js" defer></script>
  </body>
</html>