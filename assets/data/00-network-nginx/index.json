{"hash":"cc9098dd8346e1418adf53ab8b5e8ea790bc2d53","data":{"post":{"title":"[Network] NGINX란?","path":"/00-network-nginx/","date":"14. January 2021","timeToRead":3,"tags":[{"id":"Network","title":"Network","path":"/tag/Network/"},{"id":"Nginx","title":"Nginx","path":"/tag/Nginx/"},{"id":"Web","title":"Web","path":"/tag/Web/"},{"id":"Server","title":"Server","path":"/tag/Server/"},{"id":"Backend","title":"Backend","path":"/tag/Backend/"}],"description":"NGINX에 대해 작성합니다.","content":"<h1 id=\"nginx란\"><a href=\"#nginx%EB%9E%80\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nginx란.</h1>\n<h2 id=\"nignx의-정의\"><a href=\"#nignx%EC%9D%98-%EC%A0%95%EC%9D%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nignx의 정의.</h2>\n<p>Nginx는 가벼움과 높은 성능을 목표로 하는 웹서버 소프트웨어입니다.</p>\n<p>이러한 Nginx는 트래픽이 많은 웹사이트를 위해 확장성을 위해 설계한 비동기 이벤트 기반 구조를 가지고 있습니다.</p>\n<p>일반적으로 <strong>웹 서버, 리버스 프록시 및 메일 프록시</strong> 기능을 가집니다.</p>\n<br/>\n<h2 id=\"apache-vs-nginx\"><a href=\"#apache-vs-nginx\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Apache VS Nginx</h2>\n<p>주로 Nginx는 Apache 서버와 비교를 하는데, 현재는 Nginx가 1위를 차지하고 있습니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/42582516/104517057-bd5bcf00-5638-11eb-8e24-859c5bf2ee88.png\" alt=\"server-rank\"></p>\n<blockquote>\n<p>Apache</p>\n</blockquote>\n<ul>\n<li>쓰레드 / 프로세스 기반 구조로 요청 하나당 쓰레드 하나가 처리하는 구조입니다.</li>\n<li>사용자가 많으면 많은 쓰레드가 생성되고, 메모리와 CPU 낭비가 심합니다.</li>\n</ul>\n<blockquote>\n<p>Nginx</p>\n</blockquote>\n<ul>\n<li>비동기 Event-Driven 기반의 구조입니다.</li>\n<li>다수의 연결을 효과적으로 처리가능합니다.</li>\n<li>대부분의 코어 모듈이 Apache보다 적은 리소스로 더 빠르게 동작가능합니다.</li>\n<li>더 작은 쓰레드로 클라이언트의 요청들을 처리 가능합니다.</li>\n</ul>\n<p>Apache와 Nginx의 가장 큰 차이는 Thread 방식과 Event-drive의 차이입니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/42582516/104517420-4bd05080-5639-11eb-92a5-dc3f78cc5891.png\" alt=\"Thread-VS-Event-Driven\"></p>\n<p>다음 그림처럼 쓰레드 기반은 하나의 커넥션 당 하나의 쓰레드를 사용하지만, Event-driven 방식은 여러 커넥션을 모두 Event-Handler를 통해 비동기 방식으로 처리해서 먼저 처리되는 것부터 로직이 진행됩니다.</p>\n<br/>\n<h2 id=\"nginx-활용\"><a href=\"#nginx-%ED%99%9C%EC%9A%A9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nginx 활용</h2>\n<p>Nginx은 다음과 같은 기능으로 사용할 수 있습니다.</p>\n<ul>\n<li>\n<p>HTTP Server</p>\n<ul>\n<li>정적 파일을 처리하는 web server의 역할을 수행합니다.</li>\n</ul>\n</li>\n<li>\n<p>Reverse proxy server</p>\n<ul>\n<li>클라이언트의 요청을 Application server에 배분합니다.</li>\n<li>클라이언트 80포트 요청을 8080, 8081 등 여러 Application server로 보내줍니다.</li>\n<li>각 application server에 요청을 배분해서 부하를 분산합니다. (load balancing)</li>\n</ul>\n</li>\n<li>Mail proxy server</li>\n<li>Generic TCP/UDP proxy server</li>\n</ul>\n<br/>\n<h2 id=\"nginx-proxy\"><a href=\"#nginx-proxy\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Nginx Proxy</h2>\n<p>node.js에서 nginx.conf를 파일을 수정하여 아래처럼 수정하면됩니다.</p>\n<pre class=\"language-conf\"><code class=\"language-conf\">server {\n  listen    81;\n  server_name localhost;\n\n  location / {\n    proxy_pass http://127.0.0.1:3000/;\n  }\n}</code></pre>\n<p>다음과 같이 수정을 하게 되면, 81번 포트로 접속을 해도 3000번 포트의 서버에 접속이 되게됩니다.</p>\n<br/>\n<h2 id=\"마무리\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>마무리.</h2>\n<p>오늘은 간략하게 Nginx에 대해 정리해보았습니다.</p>\n<hr>\n<p><strong>출처</strong></p>\n<ul>\n<li><a href=\"http://nginx.org/en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://nginx.org/en/</a></li>\n<li><a href=\"https://news.netcraft.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://news.netcraft.com/</a></li>\n<li><a href=\"https://smjeon.dev/etc/nginx/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://smjeon.dev/etc/nginx/</a></li>\n<li><a href=\"https://m.blog.naver.com/jhc9639/220967352282\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://m.blog.naver.com/jhc9639/220967352282</a></li>\n</ul>\n","cover_image":{"type":"image","mimeType":"image/png","src":"/assets/static/NginxLogo.07cc2b7.af0e54b643787d22919c6965ea936aa0.png","size":{"width":860,"height":289},"sizes":"(max-width: 860px) 100vw, 860px","srcset":["/assets/static/NginxLogo.a67b0b2.af0e54b643787d22919c6965ea936aa0.png 480w","/assets/static/NginxLogo.07cc2b7.af0e54b643787d22919c6965ea936aa0.png 860w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 289' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-d5ab63bbe21029e1cc5c189472945ad9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-d5ab63bbe21029e1cc5c189472945ad9)' width='860' height='289' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAWCAYAAABwvpo0AAAACXBIWXMAAAsSAAALEgHS3X78AAAGrklEQVRYw%2b1Ya4hVVRSee2cyR8%2b5U5HmI0LDEhWyxIpear6tfTRfiU5jPwoKTC1IKXpAZWAPm4lqn3GcGSdTQwQhMIKkB0Q10Q/ph2EPCC0dJ7V8UDnTOLdvrb32PvucOQP91wuL/Tjr%2be211977VlRc/F3gvyCObFsI46gy0KoYapnTitsw4aF%2bkfjsnNcWZB7fVVH4DEFn4PF7%2bmieZAretyL54Ma6jx3DE6tKkOhRBciwbeaB3zn%2bEV/ad4mvwjpgfxxMxnC2nw3%2b/4AdisPGeB9dhTzdEqBbkDxfM2MAmB98rn4P/ctBK7Ait1lUfRA8ZXeAloEGZuSvguw9MD4T/VmONLdz8G1wsqrKykyFnY1oh8h4AGgu5sY7x9M%2bWLmJoHngqxZgr8C4DjQ%2bDwRPbjJAXI52kJ/9FGwVJr8ovbe4HG5ZUAbTakG8MhWkjq4DdZfeX1rG3DPyrUravaUdS8ph0/xy2LwgIYxpHroafH7eanF0oGbPctL1nMw9Xdq5hManQVdLcIWMnYfDzdBJvsbRh8Kzm%2bV01AUdK4Sv0m4XGa8OG6My8QGcTQJApUVpWGCMlpkoiFjNs4Y9JVP5e8t9xNfqpdMcAg7tv9w2WZpflnlLk11aazUI9Gv47iJy6C3R08K6aRHiaFKymsoGP5uCZ12NpE%2bdQtAljD8KWxfS/HmxV5cBbW3Yyj53kz20bRYkG8BQ0O%2bkHNlwnhyH0VOYu96mprR3svGtC8nBJm9/fSWg9EDuATg2Dv2bKSVBS0Fd5CBkPvFAqwbvodK2xWSzXkCJSbcEOTFjeyyCPcWgagRqeI5BZ01gtkS3AcWB8KBkx%2bMueJrXUSfsjU7VDwHguFn56CzonAgdgEDgOe0AwHyrzNVxqhv%2bXbknjY4aKGU5bbVaK8EG6J8s7V5GcjYDGi0AgQAg8xTkQbHxD%2bhPyZIO9EdKoNMZaAIGQOBbFwLdkQHleJjUl6JfZQGA6pT0%2bAz0FK8oDMLRvZ4jUxwAcFbmfjCrr7rQn9D/CRDdDdBmo73B26O3Qv8sL9O0lwE32UIF//Zx8M28gk9AZl%2b4jX09QtvXtwGwu4286hU/e0zw6gTkxovOqtRJYACIOsM2FvhGPm5nowZ1W8CmMQC8b9VrcGYly5j0f1N4hmD%2bWbSbaQ70BmgTbLwIJ55Hvx7tNFm1NRhvAM0UWbMFmhIA0DZ7frwjAbSHbWkAoP9S4b%2bL0x1%2bAoyusJF1nYStMWKzyjtScwH41hYQKGjn4EAwWksrzOgavgbQLZxixrntIvdSzQcryrRCVP2p6pa2L3ZjSclR0E0ZcI55Y7edzBYw6X0Ntsgq1m0A/tg71trFBweALWi22nOdiFW3Kb6cnfdbvuwFzwCgDQCBZIAwjAQdFQBOm1WM/hbjLYLkTh6btJ0EuhH0I%2bgw6BDoZwTSyfvTBLJO5EL0f5FsapCVbRTd5PDLvN9b2fZBAHaZO5V09LUHwPDkcqXWSdr3Mgimb0A3oNa67QcQ7F2BnBkaUA1IbwG7T24Hc48EeJ6dM6dAi6TUWMielblP%2b9n/n3OgcfQTbA32jsHDnB1x9LrLAONDd3Ic8/E8TmzBcb5yGwA0AzBCvq03Jw1W3QB9GP1H0Z6RY71X9NX2KYJyCnRwEFq1e3vEgrAybOZC18POmZRv8uRfYbS5%2biJttbqWMgE6RiHo9VyEjMxD9nID56spQ%2bRCs9HVAMN3jlfRgG7vI5dYx0FfyuoeBVEmLTG%2bY3FctXfFdoY9IoPYHp9qhmR%2b0R5TuMaqM%2bLMd/71l/aq3dvy3d7Cmr1LDV1Fj9mTIyEpkGZV9xt9bv8RAEfoVom5ensR4hsdrZQpco95lzH3hiBdpZ18G/0DfgMA1c6A0FbVHPwEkbPX9ekMAt1K6d6h1R7/pkudAhTtCihN4ugFAaWY3Mfdq%2btVrqjGyNzURUVHj6D/F%2bi30JzPHZjrCMw%2bpTS%2bNylCLpitsmKL5Bu9I77nuhFHa9ybRBbDu5E%2bifkTaN%2bW8QZZ2f02%2bMBWe3v1jtUU0UsgrXIxBu7pC8fk/u09Wvq%2bzHQ0DOMrc562RPRteIZGYH6o/xp0MloNRH%2b0XQSvyA20/P29RqmGZOrMWPg2IP2GcfZsFtN2GdNHn13hvLd06kmpkyeldTj7bu/3IqSj5PWVfWa7DIt8ncWUHzrlR8H7DyJz67T/JSjx34FQ9G3bJ3byh4hxsJAOXvUFATw%2bX%2baPjkIeiYz/p4qfNYXsKueNs37IaeCBwn%2b85Mpk/rQpZv8sufi7kH//AWiXqc/VOyOGAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"}}},"context":{}}