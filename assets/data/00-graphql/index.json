{"hash":"0701dade6d489be1beb11ef41af9376f9a0f1a6d","data":{"post":{"title":"[GraphQL] GraphQL 개념잡기","path":"/00-graphql/","date":"1. December 2020","timeToRead":3,"tags":[{"id":"GraphQL","title":"GraphQL","path":"/tag/GraphQL/"},{"id":"Query","title":"Query","path":"/tag/Query/"},{"id":"Web","title":"Web","path":"/tag/Web/"}],"description":" GraphQL에 대한 기본적인 내용을 정리합니다. ","content":"<h1 id=\"graphql이란\"><a href=\"#graphql%EC%9D%B4%EB%9E%80\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GraphQL이란</h1>\n<p>gatsby로 블로그를 이전하게 되면서 GraphQL에 대해서 반드시 알아야하는 상황이 왔다. 기존에도 공부를 했어야한다고 꾸준하게 생각을 했는데, 드디어 한번 공부하게 되었다.</p>\n<br/>\n<h2 id=\"graphql-정의\"><a href=\"#graphql-%EC%A0%95%EC%9D%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GraphQL 정의</h2>\n<p>페이스북에서 만든 퀴리 언어입니다. 다만 SQL은 <strong>데이터베이스에 저장된 데이터를 효율적으로 가져오는 것을 목적</strong>으로 하지만, GraphQL은 <strong>웹 클라이언트가 데이터를 서버로부터 효율적으로 가져오는 것을 목적</strong>으로 합니다.</p>\n<p><img src=\"https://user-images.githubusercontent.com/42582516/100871453-a9726880-34e3-11eb-9211-ef08e50163bf.png\" alt=\"image\"></p>\n<blockquote>\n<p>발전하고 있는 GraphQL의 관심도.</p>\n</blockquote>\n<p>GraphQL은 위에 이야기했듯이 기존의 쿼리언어인 sql과 많은 구조적 차이가 있습니다.</p>\n<br/>\n<h2 id=\"graphql-vs-http-api\"><a href=\"#graphql-vs-http-api\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GraphQL vs HTTP API</h2>\n<p><img src=\"https://user-images.githubusercontent.com/42582516/100874660-40d9ba80-34e8-11eb-8670-75e1c8ff0309.png\" alt=\"image\"></p>\n<blockquote>\n<p>HTTP API와 GQL의 기술 스택 비교</p>\n</blockquote>\n<p><img src=\"https://user-images.githubusercontent.com/42582516/100874777-6bc40e80-34e8-11eb-8bde-b938ffea55f9.png\" alt=\"image\"></p>\n<blockquote>\n<p>REST API와 GraphQL API의 차이</p>\n</blockquote>\n<p>GraphQL API를 사용하면 여러번 네트워크 호출을 할 필요 없이, 한번의 네트워크 호출로 처리 할 수 있습니다.</p>\n<br/>\n<h2 id=\"graphql-구조\"><a href=\"#graphql-%EA%B5%AC%EC%A1%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GraphQL 구조</h2>\n<h3 id=\"sql문-예시\"><a href=\"#sql%EB%AC%B8-%EC%98%88%EC%8B%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>SQL문 예시.</h3>\n<p>ex) 유저가 좋아하는 게시글을 가져오는 글이 필요하다.</p>\n<pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> board<span class=\"token punctuation\">.</span>likes\n<span class=\"token keyword\">from</span> <span class=\"token keyword\">user</span>\n    <span class=\"token keyword\">left</span> <span class=\"token keyword\">join</span> board <span class=\"token keyword\">on</span> <span class=\"token keyword\">user</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> board<span class=\"token punctuation\">.</span>user_id</code></pre>\n<p>다음과 같은 쿼리를 구성할 수 있습니다. 그러나, 만약에 웹에서 이를 호출할려고 하는데, 여러 테이블을 join을 해야하는 경우가 발생할 수 있습니다. 이러한 경우에는 endpoint가 많아지는 문제가 발생할 수 있습니다.</p>\n<h3 id=\"graphql문-예시\"><a href=\"#graphql%EB%AC%B8-%EC%98%88%EC%8B%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>GraphQL문 예시.</h3>\n<p>다음과 같은 경우 graphql은 아래와 같이 표현할 수 있습니다.</p>\n<ul>\n<li>쿼리문</li>\n</ul>\n<pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span><span class=\"token punctuation\">{</span>\n    user<span class=\"token punctuation\">{</span>\n        id<span class=\"token punctuation\">,</span>\n        name<span class=\"token punctuation\">,</span>\n        likes <span class=\"token punctuation\">{</span>\n            title\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<ul>\n<li>응답 데이터 형식</li>\n</ul>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"data\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"user\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property\">\"id\"</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"name\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"user1\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token property\">\"likes\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token property\">\"title\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"content13\"</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">{</span>\n                    <span class=\"token property\">\"title\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"content56\"</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>서버사이드 GraphQL 어플리케이션은 gql로 작성된 쿼리를 입력으로 받아 쿼리를 처리한 결과를 다시 클라이언트로 돌려줍니다. HTTP API가 특정 DB나 플랫폼에 종속적이지 않은 것처럼 마찬가지로 gql도 역시 어떠한 특정 DB나 플랫폼에 종속적이지 않습니다.</p>\n<p>좀 더 자세하게 구조를 보면 다음과 같습니다. gql은 <strong>쿼리</strong>와 <strong>뮤테이션</strong>으로 구분됩니다. 쿼리는 데이터를 읽는데 사용되고, 뮤테이션은 데이터를 변조(CUD) 하는데 사용됩니다.</p>\n<p>(추가 작성 에정)</p>\n<hr>\n<p><strong>출처</strong></p>\n<ul>\n<li><a href=\"https://tech.kakao.com/2019/08/01/graphql-basic/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://tech.kakao.com/2019/08/01/graphql-basic/</a></li>\n<li><a href=\"https://www.redhat.com/ko/topics/api/what-is-graphql\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.redhat.com/ko/topics/api/what-is-graphql</a></li>\n<li><a href=\"https://medium.com/@yeon22/graphql-graphql%EC%9D%B4%EB%9E%80-8468571ea96a\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/@yeon22/graphql-graphql%EC%9D%B4%EB%9E%80-8468571ea96a</a></li>\n</ul>\n","cover_image":{"type":"image","mimeType":"image/png","src":"/assets/static/GraphqlLogo.74d280b.91a0ce60c97a80c18feaa253efc40bd5.png","size":{"width":300,"height":168},"sizes":"(max-width: 300px) 100vw, 300px","srcset":["/assets/static/GraphqlLogo.74d280b.91a0ce60c97a80c18feaa253efc40bd5.png 300w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 300 168' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-9c4784fafc645f620cd83f16bca4f05c'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-9c4784fafc645f620cd83f16bca4f05c)' width='300' height='168' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAkCAIAAAC2bqvFAAAACXBIWXMAAAsSAAALEgHS3X78AAAE5ElEQVRYw%2b1XXUwcVRTeJiYmJvriqyaaaNKY%2bOaLL77pg4mPmhg1Tao2VmtMSYy1pkao0hLS8tNuaRVQCxFpK4JQCS0/S2mBBZZdWFiQXYZd9oddZmfmzszOzM4vnjsz3eWnVLS2YjKbyc2de%2bbee77zfefcu661//nP5QBwADgAHAAOgPsJQDPwoxsOAw8egIajLnbHMi//JvXFCyO7GwB4qOr2Y3qcfOHnsKs89WKr/cF66%2b5lwAy0Mk/TR24ln2tZfrQ%2b9XwL88WwEkYF6x1%2bgAoogvbv8rQ1wazEU2/nnrF2lyTcDIA97UcnfGxVIHugX7gUpj4Y0CkJ91sXsvv7uNop9PU4VxvYfQyY%2bpb644Tr1KKrgirxwCtzdFjsJKAjXIkwx0ahQ77bC9YlV5U0lLSDZ4ZGZ/JsdYA57gX8WlrcQNTtb4pRXPeqZyXx6lIxzKZJ/HWRKR1lyrzyeAZTu4jyIyt35qoIwLSpy3zy6eb4441qjJO9aerAgKkNbMq%2b1y/7V9Uwij/WkNrboqVy5q72lsyxEeFK2OAVAEx95LH9lFSdkfHanKzF%2bWINUHUtkdMRNqkEQuUThqhqyZzlA%2bChS27qtKTMUeS%2b6zor50eSrHtyuyri2lR2cq0L7BmsEPKta0qQKozLATL7znWssfIJsZ2wx80FYW/gqhiFOActdyZAfTwodi4BbPrTIbbSx1XjZYXLEergAFvjpw551Airo/zq67%2bDlf7sJv/dDI5F2ag8RVoe8RdDYk9UDpLcuakdA/glnLu0ILYDid7iHLOljwxDVeUbQmJXdD0ANYKQ%2bTHEDH0zxtfPQp86fEOeyFiDWoLHHL7fp2dEtsIPMoNXUAVTNgYAyH3X7PUP39AyIqqYAP4tj2C73OUFeZpkz%2b4YgHCVQJU%2b6qBHSwtmMTKLpoLrJsiA%2btCDysakvsQGAARivsQZoq3kVIKjjg4qYZp1T1l%2bK9NZsLK1/tU3e7SkwH8/Zwla52V0akKNsrCdXT%2bqJyEWbJVPXWJtAF2E0BHBAExRrMn61jTYwkDTfOKZi1Lv8mbEmi3Q%2bBM/CC0LG1JK0UEPGolzF9RMlwxBy5SP2YHf36vG7Q5In6uZ5htD2BkAVubVVkXmK6%2b1DDo5DlO4uiDfNGePlHpBxnlfmq37SwZMb2RfJrrnXNTlZisnxTaCPz/L14f4b0N8/Rz0hTaCPeGLus7GHr4AKWHPMidKngQonqsJUJ8Mit1YYKw7YHEI7jKlY6DyzKudkNO5%2btDqG93c%2bSBkgjJDQY0GriwXuIYgFBwjp4AJlY8znw%2bnX2qD9ZWZLPl2D1vlB1XzjbN3BTBJxh6qi%2b1xJ578EdALHQQQIrSGcdtOoOPjyWebAV7skQtKMFskwaqkWUmZpqC1S5Cs4RplWqF2qTHekDTsZe2U5IlryzwuO%2bYK%2bMvCFDPGRl5TZmktJYg9MXURywmKnhrl4AGVbi8hc7v8rZX8YAJKB3VoMNc8D2vhJVRDaItgQv9gpIFE3pvefCQXiv3Wal14tUTYtaTM0evZ23IPMGzk93iZA9dBjsmnmkAzyb0/wan8H1zm1sdlpwB0w76KmO6mX%2bmIuE5mXuu0bztW2O4FyQ58%2bpeu09aptIjgAALxbXeSO39o7jcA4x/dkB0GHAAOAAeAA8AB8IB%2bfwKemSaa/ldLUQAAAABJRU5ErkJggg==' /%3e%3c/svg%3e"}}},"context":{}}